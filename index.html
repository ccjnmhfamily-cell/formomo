<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>P2 Space English Adventure (Fixed)</title>
    <style>
        :root {
            --primary: #FFD700; /* Gold */
            --secondary: #00BFFF; /* Deep Sky Blue */
            --accent: #FF4500; /* Orange Red */
            --bg-dark: #0B0D17; /* Space Black */
            --card-bg: #1F2937; /* Dark Gray */
            --text: #FFFFFF;
            --success: #48bb78;
            --error: #f56565;
        }

        * { box-sizing: border-box; touch-action: manipulation; }

        body {
            font-family: 'Microsoft JhengHei', 'Comic Sans MS', sans-serif;
            background-color: var(--bg-dark);
            background-image: radial-gradient(white 1px, transparent 1px), radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px;
            background-position: 0 0, 25px 25px;
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 80px;
        }

        /* --- Header --- */
        header {
            background: rgba(11, 13, 23, 0.95);
            padding: 10px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--secondary);
            box-shadow: 0 4px 15px rgba(0,0,0,0.8);
        }

        h1 { margin: 5px 0; color: var(--primary); text-shadow: 0 0 10px var(--accent); font-size: 1.5rem; }

        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
            background: #2d3748;
            padding: 10px;
            border-radius: 15px;
        }

        select {
            font-size: 1rem;
            padding: 5px;
            border-radius: 8px;
            background: white;
            border: 2px solid var(--secondary);
        }

        /* --- Navigation --- */
        .nav-bar {
            display: flex;
            justify-content: center;
            gap: 5px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: var(--secondary);
            border: none;
            padding: 8px 12px;
            border-radius: 20px;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-btn.active {
            background: var(--accent);
            border: 2px solid var(--primary);
            transform: scale(1.05);
        }

        /* --- Main Content --- */
        main { max-width: 800px; margin: 0 auto; padding: 15px; }
        
        .section { display: none; animation: fadeIn 0.4s; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Word Cards --- */
        .word-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Wider cards */
            gap: 15px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 2px solid var(--secondary);
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            position: relative;
        }

        .en-text { 
            font-size: 1.6rem; 
            color: var(--primary); 
            font-weight: bold; 
            margin: 5px 0; 
            word-wrap: break-word; /* Prevents text cutting off */
            overflow-wrap: break-word;
        }

        .cn-text { font-size: 1.2rem; color: #ccc; margin-bottom: 5px; }
        .mnemonic { color: var(--accent); font-size: 0.9rem; font-style: italic; min-height: 40px; margin-bottom: 5px; }
        .sentence { color: #888; font-size: 0.85rem; padding-top: 5px; border-top: 1px solid #444; }

        .audio-btn {
            background: #fff; border: 2px solid var(--primary);
            width: 35px; height: 35px; border-radius: 50%;
            cursor: pointer; font-size: 1.2rem; margin: 5px;
            display: inline-flex; justify-content: center; align-items: center;
        }

        /* --- Story & Quiz --- */
        .story-box {
            background: #fff; color: #222;
            padding: 20px; border-radius: 15px;
            font-size: 1.3rem; line-height: 1.8;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
        }

        .story-title {
            color: var(--accent); text-align: center;
            border-bottom: 2px dashed #ccc; padding-bottom: 10px;
        }

        .click-word {
            cursor: pointer; border-bottom: 1px dotted #999;
            transition: background 0.2s; padding: 0 2px;
        }
        .click-word:hover { background: var(--primary); color: #000; border-radius: 4px; }

        .quiz-box {
            background: var(--card-bg); padding: 15px;
            margin-top: 20px; border-radius: 10px; border: 1px solid #555;
        }

        .quiz-opt {
            display: block; width: 100%; padding: 12px; margin: 8px 0;
            background: #374151; color: white; border: none; border-radius: 8px;
            text-align: left; font-size: 1rem; cursor: pointer;
        }
        .quiz-opt.correct { background: var(--success); font-weight: bold; }
        .quiz-opt.wrong { background: var(--error); opacity: 0.7; }

        /* --- NEW GAME STYLES (User Friendly) --- */
        .game-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
        }

        /* The line where the user builds the sentence */
        .answer-zone {
            min-height: 70px;
            border: 2px solid var(--secondary); /* Sky Blue */
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            align-items: center;
            transition: all 0.3s;
        }

        .answer-zone.correct {
            border-color: var(--success);
            background: rgba(72, 187, 120, 0.1);
        }

        /* The area where the jumbled words sit */
        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            padding: 15px;
            background: #374151; /* Lighter dark gray */
            border-radius: 15px;
            min-height: 80px;
            border: 2px dashed #555;
        }

        /* The Toggle Button for Meaning */
        .mode-switch {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .mode-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid #777;
            background: #2d3748;
            color: #aaa;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .mode-btn.active {
            background: var(--primary); /* Gold */
            color: black;
            font-weight: bold;
            border-color: white;
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        /* --- Dictation --- */
        .dictation-area {
            text-align: center; padding: 20px;
            background: var(--card-bg); border-radius: 15px; border: 2px solid var(--accent);
        }
        .input-box {
            width: 80%; padding: 10px; font-size: 1.5rem;
            margin: 15px 0; border-radius: 10px; border: none; text-align: center;
        }
        .feedback { font-size: 1.2rem; font-weight: bold; min-height: 30px; margin: 10px 0; }

        /* --- Modal --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 1000;
            justify-content: center; align-items: center;
        }
        .modal-content {
            background: white; color: #333; padding: 25px; border-radius: 20px;
            width: 90%; max-width: 350px; text-align: center; position: relative;
        }
        .close-x { position: absolute; top: 10px; right: 15px; font-size: 2rem; cursor: pointer; }

        /* --- New Result History Styles --- */
        .history-box {
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            text-align: left;
            font-size: 0.9rem;
            color: #ccc;
        }
        .history-row {
            margin: 5px 0;
            border-bottom: 1px solid #444;
            padding-bottom: 5px;
        }
        .history-label {
            color: var(--secondary);
            font-weight: bold;
            margin-right: 10px;
        }

        /* --- Grammar Section Enhancements (Cartoon Mode) --- */
        .g-q-row {
            margin: 20px 0; /* More space between questions */
            font-size: 1.35rem; /* Large text for easy reading */
            line-height: 2.2; /* Big spacing so inputs fit nicely */
            
            /* Cartoon Card Look */
            background: #2C3E50; /* Dark Blue-Gray Card */
            padding: 20px;
            border-radius: 20px; /* Super rounded corners */
            border: 3px solid var(--secondary); /* Thick Sky Blue Border */
            box-shadow: 6px 6px 0px rgba(0,0,0,0.4); /* 3D Shadow Effect */
            
            position: relative;
            text-align: left;
            transition: transform 0.2s; /* Animation setup */
        }

        /* Hover effect for computer users */
        .g-q-row:hover {
            transform: translateY(-3px); /* Floats up slightly */
        }

        .g-q-text {
            display: block;
            color: #fff;
            width: 100%;
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif; /* Cartoon Font */
            text-shadow: 2px 2px 0px #000; /* Text outline for readability */
            word-wrap: break-word;
        }

        /* The clickable words inside the sentence */
        .g-q-text .click-word {
            cursor: pointer;
            border-bottom: 2px dotted #aaa;
            margin: 0 4px;
            transition: all 0.2s;
        }
        .g-q-text .click-word:hover {
            color: var(--primary);
            border-bottom-style: solid;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        /* The "Fill in the blank" Input Box Styling */
        .g-input {
            background: transparent;
            border: none;
            border-bottom: 3px dashed var(--primary); /* Gold dashed line */
            color: var(--primary); /* Gold Text */
            font-size: 1.3rem;
            font-weight: bold;
            text-align: center;
            width: 130px; /* Wide enough for answers */
            font-family: 'Comic Sans MS', sans-serif;
            margin: 0 5px;
        }

        /* Input Focus State (When typing) */
        .g-input:focus {
            outline: none;
            border-bottom: 3px solid var(--success); /* Turns Green/Solid */
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        /* The Hint Button Styling */
        .hint-btn {
            background: var(--accent); /* Orange Red */
            border: none;
            color: white;
            font-size: 0.95rem;
            font-weight: bold;
            border-radius: 25px; /* Pill shape */
            padding: 8px 16px;
            cursor: pointer;
            margin-top: 10px;
            box-shadow: 0 4px 0 #b33200; /* 3D Button Shadow */
            transition: all 0.1s;
            display: inline-block;
        }

        .hint-btn:active {
            transform: translateY(4px); /* Pushes down when clicked */
            box-shadow: none;
        }

        /* The Hidden Hint Box */
        .g-meta {
            margin-top: 15px;
            padding: 15px;
            border-top: 3px dashed rgba(255, 255, 255, 0.2);
            display: none;
            background: rgba(0, 0, 0, 0.3); /* Darker background for contrast */
            border-radius: 15px;
            animation: fadeIn 0.3s ease-in;
        }

        .g-cn {
            color: var(--secondary); /* Sky Blue */
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .g-clue {
            color: var(--primary); /* Gold */
            font-size: 1rem;
            font-style: italic;
            background: rgba(255, 215, 0, 0.1); /* Slight gold tint bg */
            padding: 5px 10px;
            border-radius: 10px;
            display: block;
        }

        /* Feedback Icon (Checkmark/X) */
        .g-feedback {
            font-size: 1.5rem;
            margin-left: 8px;
            vertical-align: middle;
            filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.5));
        }

        .hint-btn {
            background: #4a5568;
            border: 1px solid #777;
            color: white;
            font-size: 0.85rem;
            border-radius: 20px;
            padding: 4px 12px;
            cursor: pointer;
            margin-top: 5px;
        }
        .hint-btn:hover { background: var(--secondary); border-color: var(--secondary); }

        /* --- Grammar Rule Box (Sharp & Cartoon Mode) --- */
        .grammar-rule-box {
            /* Make the background pop */
            background: linear-gradient(135deg, #34495e, #2c3e50);
            
            /* High Contrast Border - GOLD */
            border: 4px solid var(--primary); 
            border-left-width: 12px; /* Extra thick on the left to catch the eye */
            
            /* Rounded corners & 3D Shadow */
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5); /* Deep shadow */
            
            /* Spacing */
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
            
            /* Text settings */
            color: #ffffff;
            font-size: 1.2rem;
            line-height: 1.6;
            font-family: 'Comic Sans MS', sans-serif;
            animation: pulseBorder 3s infinite alternate; /* Subtle glow animation */
        }

        /* Subtle glowing animation for the border */
        @keyframes pulseBorder {
            from { box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5); }
            to { box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3); }
        }

        .grammar-rule-title {
            display: block;
            font-size: 1.6rem; 
            color: var(--primary); /* Gold Color */
            font-weight: 900; /* Extra Bold */
            text-shadow: 3px 3px 0 #000; /* Cartoon Outline */
            
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px dashed rgba(255, 215, 0, 0.5); /* Dashed divider */
        }

        /* Make important words (<b>) inside the rule box look like highlighted code */
        .grammar-rule-box b {
            color: var(--secondary); /* Cyan/Sky Blue */
            background: rgba(0, 191, 255, 0.15); /* Soft Blue Background */
            padding: 2px 6px;
            border-radius: 6px;
            border: 1px solid rgba(0, 191, 255, 0.3);
            text-shadow: 1px 1px 0 #000;
        }

        /* Make the Example sentence (<i>) look like a separate dark box */
        .grammar-rule-box i {
            display: block;
            margin-top: 15px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.4); /* Darker background */
            border-radius: 10px;
            color: #e0e0e0;
            font-style: normal; /* Remove italic, make it clear */
            font-weight: bold;
            border-left: 5px solid var(--accent); /* Orange bar on the left */
        }

        /* Add a "Lightbulb" icon via CSS to the examples */
        .grammar-rule-box i::before {
            content: "ğŸ’¡ Example: ";
            color: var(--accent);
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸš€ P2 Space English</h1>
    <div class="controls">
        <label style="color:white; align-self:center;">ä»»å‹™æ—¥ (Day):</label>
        <select id="daySelect" onchange="changeDay()"></select>
    </div>
    <div class="nav-bar">
        <button class="nav-btn active" onclick="nav('learn')">1. å­¸ç¿’ (Learn)</button>
        <button class="nav-btn" onclick="nav('story')">2. é–±è®€ (Read)</button>
        <button class="nav-btn" onclick="nav('game')">3. éŠæˆ² (Game)</button>
        <button class="nav-btn" onclick="nav('grammar')">4. æ–‡æ³• (Grammar)</button> <!-- NEW BUTTON -->
        <button class="nav-btn" onclick="nav('dictation')">5. æ¸¬é©— (Test)</button>
    </div>
</header>

<main>
    <!-- SECTION 1: LEARN -->
    <section id="learn" class="section active">
        <h2 style="text-align:center; color:var(--primary)">Daily 5 Words (æ¯æ—¥äº”è©)</h2>
        <div id="wordGrid" class="word-grid"></div>
    </section>

    <!-- SECTION 2: READ -->
    <section id="story" class="section">
        <h2 style="text-align:center; color:var(--primary)">Reading Time (é–±è®€æ™‚é–“)</h2>
        <p style="text-align:center; font-size:0.9rem; color:#aaa;">é»æ“Šå–®è©å¯ç¿»è­¯ä¸¦æ”¶è—ï¼(Click to translate)</p>
        <div class="story-box">
            <h3 id="storyTitle" class="story-title"></h3>
            <div id="storyContent"></div>
        </div>
        <div id="quizArea"></div>
    </section>

    <!-- SECTION 3: GAME (User Friendly Version) -->
    <section id="game" class="section">
        <h2 style="text-align:center; color:var(--primary)">Sentence Puzzle (çµ„å¥éŠæˆ²)</h2>
        <p style="text-align:center; color:#ccc; font-size:0.9rem;">
            Build the sentence! (çµ„åˆæˆæ­£ç¢ºå¥å­)
        </p>
        
        <div style="text-align:center; margin-bottom:15px;">
            <p style="font-size:1.1rem; color:#aaa;">Target: <span id="gameHint" style="color:white; font-weight:bold;"></span></p>
            <!-- Hint Display -->
            <p id="gameSentenceHint" style="color:var(--secondary); font-family: monospace; font-size: 1.2rem; min-height: 25px; margin:5px 0;"></p>
            
            <button class="nav-btn" onclick="showGameStructureHint()" style="background:#555; font-size:0.8rem; padding:5px 10px;">
                ğŸ’¡ Show First Letters (é¡¯ç¤ºé¦–å­—æ¯)
            </button>
        </div>

        <!-- NEW: MODE TOGGLE (Move vs Ask) -->
        <div class="mode-switch">
            <button id="btnMove" class="mode-btn active" onclick="setGameMode('move')">ğŸ‘† Move (ç§»å‹•)</button>
            <button id="btnAsk" class="mode-btn" onclick="setGameMode('ask')">â“ Ask Meaning (å•æ„æ€)</button>
        </div>

        <!-- NEW: TWO ZONES (Answer & Bank) -->
        <div class="game-container">
            <!-- 1. The Line (Drop Zone) -->
            <div id="answerZone" class="answer-zone">
                <span style="color:#666; font-style:italic; font-size:0.8rem;">(Put words here / æ”¾å­—åœ¨é€™é‚Š)</span>
            </div>

            <!-- 2. The Bank (Source) -->
            <div id="wordBank" class="word-bank"></div>
        </div>

        <div id="gameMsg" class="game-feedback"></div>
        
        <div style="text-align:center; margin-top:20px;">
            <button class="nav-btn" onclick="resetGame()" style="background:#555;">ğŸ”„ Restart (é‡æ–°é–‹å§‹)</button>
        </div>
    </section>

    <!-- SECTION: GRAMMAR -->
    <section id="grammar" class="section">
        <h2 style="text-align:center; color:var(--primary)">Grammar Master (æ–‡æ³•å¤§å¸«)</h2>
        <p style="text-align:center; color:#aaa; margin-bottom:20px;">Read the rules and fill in the blanks! (é–±è®€è¦å‰‡ä¸¦å¡«å……)</p>

        <!-- Part 1: V-ing -->
        <div class="grammar-box">
            <div class="grammar-rule-box">
                <span class="grammar-rule-title">ğŸ“ Rule 1: Present Continuous (æ­£åœ¨é€²è¡Œå¼)</span>
                Action happening <b>NOW</b> (ç¾åœ¨). <br>
                Formula: <b>am / is / are + verb-ing</b><br>
                <span style="color:#aaa; font-size:0.85rem;">(I am / He,She,It is / You,We,They are)</span><br>
                <i>Example: I <b>am eating</b> now. / Look! He <b>is running</b>.</i>
            </div>
            <div id="quizVing"></div>
        </div>

        <!-- Part 2: To-Inf -->
        <div class="grammar-box">
            <div class="grammar-rule-box">
                <span class="grammar-rule-title">ğŸ“ Rule 2: Infinitive (ä¸å®šè©)</span>
                Two verbs together (å…©å€‹å‹•è©åœ¨ä¸€èµ·) or after specific words like <i>want, like, need, hope, try</i>.<br>
                Formula: <b>to + base verb</b> (Original verb)<br>
                <i>Example: I want <b>to go</b> home. / She likes <b>to play</b>.</i>
            </div>
            <div id="quizInf"></div>
        </div>

        <!-- Part 3: Past Tense -->
        <div class="grammar-box">
            <div class="grammar-rule-box">
                <span class="grammar-rule-title">ğŸ“ Rule 3: Simple Past Tense (éå»å¼)</span>
                Action finished in the past (yesterday, last week).<br>
                Formula: Add <b>-ed</b> OR change the word (Irregular).<br>
                <i>Example: I <b>walked</b> yesterday. / I <b>went</b> (go) to school last week.</i>
            </div>
            <div id="quizPast"></div>
        </div>

        <button class="nav-btn" style="width:100%; background:var(--accent); font-size:1.2rem; padding:15px; margin-bottom:30px;" onclick="checkGrammarAll()">Check Grammar Answers (æª¢æŸ¥ç­”æ¡ˆ)</button>
        <div id="grammarFinalMsg" style="text-align:center; font-size:1.5rem; font-weight:bold; height:50px;"></div>
    </section>

    <!-- SECTION 4: DICTATION -->
    <section id="dictation" class="section">
        <h2 style="text-align:center; color:var(--primary)">Review Mission (æº«ç¿’ä»»å‹™)</h2>
        
        <!-- ... (Keep your existing dictation-area div here) ... -->
        <div class="dictation-area">
            <!-- ... (Keep the speaker, input, history as they were) ... -->
            <p style="color:#aaa;">é»æ“Šå–‡å­ ğŸ”Š -> è¼¸å…¥è‹±æ–‡å–®è©</p>
            <h1 id="dictCn" style="color:white; font-size:2.5rem;">---</h1>
            <button class="audio-btn" style="width:60px; height:60px; font-size:2rem;" onclick="playDictSound()">ğŸ”Š</button>
            <br>
            <input type="text" id="dictInput" class="input-box" placeholder="è¼¸å…¥è‹±æ–‡..." autocomplete="off">
            
            <div style="display:flex; justify-content:space-between; padding:0 10%;">
                <button onclick="giveHint()" style="background:none; color:#aaa; border:none; text-decoration:underline;">æç¤º (Hint)</button>
                <span id="dictCount" style="color:var(--primary);">å‰©é¤˜: 0</span>
            </div>

            <div id="dictMsg" class="feedback"></div>
            
            <div class="history-box">
                <div class="history-row"><span class="history-label">ç¬¬ä¸€æ¬¡å˜—è©¦:</span><span id="resFirst" style="color:#fff;">-</span></div>
                <div class="history-row" style="border:none;"><span class="history-label">æœ€è¿‘å˜—è©¦:</span><span id="resLatest" style="color:#fff;">-</span></div>
            </div>

            <button class="nav-btn" style="width:100%; background:var(--success); font-size:1.2rem; padding:12px; margin-top:10px;" onclick="checkDict()">æª¢æŸ¥ç­”æ¡ˆ (Check)</button>
        </div>

        <!-- NEW: PARENT WORD BANK SECTION -->
        <div style="margin-top:30px; border-top:2px dashed #555; padding-top:20px;">
            <h3 style="text-align:center; color:var(--secondary)">ğŸ—„ï¸ Word Storage (ç”Ÿå­—åº«)</h3>
            <p style="text-align:center; font-size:0.85rem; color:#aaa;">Parents can add words here (å®¶é•·å¯åœ¨æ­¤åŠ å­—)</p>
            <div style="display:flex; justify-content:center; gap:5px;">
                <input type="text" id="parentInput" placeholder="Enter word (e.g., apple)" style="padding:10px; border-radius:5px; border:none; width:60%;">
                <button class="nav-btn" style="background:var(--accent);" onclick="manualAddToBank()">Add</button>
            </div>
            <p id="bankMsg" style="text-align:center; color:#48bb78; margin-top:5px;"></p>
            <p style="text-align:center; color:#888; font-size:0.8rem;">Current stored words: <span id="bankCount">0</span></p>
        </div>
    </section>
</main>

<!-- MODAL (Modified with Add to Review Button) -->
<div id="modal" class="modal" onclick="closeModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <span class="close-x" onclick="closeModal(null)">&times;</span>
        <h2 id="mWord" style="color:var(--accent); margin:0;"></h2>
        <h3 id="mCn" style="color:#555;"></h3>
        <p id="mSound" style="background:#f4f4f4; padding:5px; border-radius:5px; font-style:italic;"></p>
        
        <div style="display:flex; justify-content:center; gap:10px; margin-top:15px;">
            <button class="audio-btn" id="mAudio">ğŸ”Š</button>
            <button class="nav-btn" style="background:var(--primary); color:black; font-size:0.8rem;" onclick="addToBankFromModal()">
                + åŠ å…¥æº«ç¿’ (Add to Review)
            </button>
        </div>
        <div id="mMsg" style="margin-top:5px; font-size:0.8rem; color:green; height:20px;"></div>
    </div>
</div>

<!-- NEW: PROGRESS CHECKLIST MODAL -->
<div id="progressModal" class="modal" onclick="closeProgressModal()">
    <div class="modal-content" onclick="event.stopPropagation()" style="background:#2C3E50; border: 4px solid var(--primary); color:white;">
        <h2 style="color:var(--primary); margin-top:0;">ğŸ›‘ Mission Locked!</h2>
        <p style="color:#ccc; font-size:0.9rem;">Complete these tasks to unlock the Test:</p>
        
        <div id="taskList" style="text-align:left; margin:20px 0;">
            <!-- Javascript will fill this -->
        </div>

        <button class="nav-btn" onclick="closeProgressModal()" style="width:100%; background:#555;">OK, I will do it!</button>
    </div>
</div>

<script>
    // ================= 1. WORD DATABASE (31 Days) =================
    const dailyWords = [
        ['bus','taxi','train','ship','car'], ['walk','run','ride','drive','fly'], ['plane','bicycle','boat','truck','motorbike'],
        ['stop','go','come','fast','slow'], ['left','right','straight','near','far'], ['school','home','park','zoo','hospital'],
        ['library','supermarket','playground','beach','cinema'], ['restaurant','shop','market','bank','hotel'], ['classroom','bedroom','bathroom','kitchen','garden'],
        ['door','window','floor','wall','roof'], ['apple','banana','orange','grape','watermelon'], ['bread','rice','noodles','egg','meat'],
        ['chicken','fish','vegetable','tomato','carrot'], ['milk','water','juice','tea','coffee'], ['cake','cookie','candy','ice cream','chocolate'],
        ['happy','sad','angry','scared','excited'], ['hungry','thirsty','tired','sleepy','sick'], ['hot','cold','big','small','tall'],
        ['head','eye','ear','nose','mouth'], ['hand','foot','arm','leg','finger'], ['eat','drink','sleep','read','write'],
        ['play','sing','dance','jump','swim'], ['draw','paint','cut','paste','color'], ['book','pen','pencil','ruler','eraser'],
        ['bag','desk','chair','table','board'], ['dog','cat','bird','rabbit','mouse'], ['lion','tiger','elephant','monkey','bear'],
        ['sun','moon','star','cloud','rain'], ['tree','flower','grass','river','mountain'], ['red','blue','green','yellow','white'],
        ['black','pink','purple','brown','gray']
    ];

    // ================= 2. COMPLETE DICTIONARY (Cleaned) =================
    // ================= MASTER DICTIONARY (FIXED & COMPLETE) =================
    const dictionary = {
        // --- A ---
        'a':{cn:'ä¸€å€‹', sound:'Uh'}, 
        'about':{cn:'é—œæ–¼', sound:'Uh-bout'}, 
        'adds':{cn:'åŠ å…¥', sound:'Ads'}, 
        'afternoon':{cn:'ä¸‹åˆ', sound:'After-noon'}, 
        'alien':{cn:'å¤–æ˜Ÿäºº', sound:'Alien'}, 
        'aliens':{cn:'å¤–æ˜Ÿäºº', sound:'Aliens'}, 
        'also':{cn:'ä¹Ÿ', sound:'Also'}, 
        'am':{cn:'æ˜¯', sound:'Am'}, 
        'an':{cn:'ä¸€å€‹', sound:'An'}, 
        'and':{cn:'å’Œ', sound:'And'}, 
        'angry':{cn:'ç”Ÿæ°£', sound:'å®‰gry'}, 
        'animal':{cn:'å‹•ç‰©', sound:'Animal'}, 
        'animals':{cn:'å‹•ç‰©', sound:'Animals'}, 
        'apple':{cn:'è˜‹æœ', sound:'é˜¿å©† (Ä€ pÃ³)'}, 
        'apples':{cn:'è˜‹æœ', sound:'é˜¿å©†s'}, 
        'appeared':{cn:'å‡ºç¾', sound:'Uh-peered'}, 
        'are':{cn:'æ˜¯', sound:'Are'}, 
        'arm':{cn:'æ‰‹è‡‚', sound:'é˜¿m'}, 
        'around':{cn:'å‘¨åœ', sound:'Uh-round'}, 
        'art':{cn:'ç¾è¡“', sound:'Art'}, 
        'at':{cn:'åœ¨', sound:'At'}, 
        'ate':{cn:'åƒ(éå»å¼)', sound:'Ate'}, 
        'attic':{cn:'é–£æ¨“', sound:'Attic'}, 
        'autumn':{cn:'ç§‹å¤©', sound:'Autumn'},

        // --- B ---
        'baby':{cn:'å¬°å…’', sound:'Baby'}, 
        'back':{cn:'å¾Œé¢/å›', sound:'Back'}, 
        'bag':{cn:'æ›¸åŒ…', sound:'èƒŒg'}, 
        'baking':{cn:'çƒ˜ç„™', sound:'Baking'}, 
        'ball':{cn:'çƒ', sound:'Ball'}, 
        'balloons':{cn:'æ°£çƒ', sound:'Balloons'}, 
        'banana':{cn:'é¦™è•‰', sound:'ä¸æ‹¿æ‹¿ (BÃ¹ nÃ¡ nÃ¡)'}, 
        'bank':{cn:'éŠ€è¡Œ', sound:'åŠk'}, 
        'bar':{cn:'æ£’/æ¢', sound:'Bar'}, 
        'basket':{cn:'ç±ƒå­', sound:'Basket'}, 
        'bathroom':{cn:'æµ´å®¤', sound:'Bathå…¥'}, 
        'beach':{cn:'æµ·ç˜', sound:'ç¬”ch'}, 
        'beanbag':{cn:'è±†è¢‹', sound:'Bean-bag'}, 
        'bear':{cn:'ç†Š', sound:'æ¯r'}, 
        'beautiful':{cn:'ç¾éº—', sound:'Beautiful'}, 
        'because':{cn:'å› ç‚º', sound:'Be-cause'}, 
        'bed':{cn:'åºŠ', sound:'Bed'}, 
        'bedroom':{cn:'ç¡æˆ¿', sound:'Bedå…¥'}, 
        'bees':{cn:'èœœèœ‚', sound:'Bees'}, 
        'before':{cn:'ä¹‹å‰', sound:'Be-fore'}, 
        'ben':{cn:'Ben (åå­—)', sound:'Ben'}, 
        'bench':{cn:'é•·æ¤…', sound:'Bench'}, 
        'bicycle':{cn:'å–®è»Š', sound:'æ‹œcycle'}, 
        'big':{cn:'å¤§', sound:'ç¬”g'}, 
        'bird':{cn:'é³¥', sound:'ä¸rd'}, 
        'birthday':{cn:'ç”Ÿæ—¥', sound:'Birthday'}, 
        'black':{cn:'é»‘è‰²', sound:'ä¸lack'}, 
        'blanket':{cn:'æ¯›æ¯¯', sound:'Blanket'}, 
        'blue':{cn:'è—è‰²', sound:'ä¸lue'}, 
        'board':{cn:'æ¿', sound:'é¥±d'}, 
        'boat':{cn:'å°èˆ¹', sound:'æ³¢t'}, 
        'book':{cn:'æ›¸', sound:'ä¸å¯ (BÃ¹ kÄ›)'}, 
        'books':{cn:'æ›¸æœ¬', sound:'Books'}, 
        'boom':{cn:'éš†éš†è²', sound:'Boom'}, 
        'bought':{cn:'è²·(éå»å¼)', sound:'Bot'}, 
        'bowl':{cn:'ç¢—', sound:'Bowl'}, 
        'box':{cn:'ç›’', sound:'Box'}, 
        'branch':{cn:'æ¨¹æ', sound:'Branch'}, 
        'bread':{cn:'éºµåŒ…', sound:'ä¸read'}, 
        'breakfast':{cn:'æ—©é¤', sound:'Brek-fast'}, 
        'bright':{cn:'å…‰äº®', sound:'Bright'}, 
        'brings':{cn:'å¸¶ä¾†', sound:'Brings'}, 
        'brother':{cn:'å…„å¼Ÿ', sound:'Brother'}, 
        'brown':{cn:'å•¡è‰²', sound:'ä¸rown'}, 
        'brush':{cn:'åˆ·', sound:'Brush'}, 
        'bubbly':{cn:'èµ·æ³¡', sound:'Bubbly'}, 
        'bucket':{cn:'æ¡¶', sound:'Bucket'}, 
        'buckle':{cn:'æ‰£ä¸Š', sound:'Buckle'}, 
        'built':{cn:'å»ºé€ (éå»å¼)', sound:'Bilt'}, 
        'bus':{cn:'å·´å£«', sound:'çˆ¸æ­» (BÃ  sÇ)'}, 
        'bushy':{cn:'æ¿ƒå¯†', sound:'Bushy'}, 
        'butterflies':{cn:'è´è¶', sound:'Butterflies'}, 
        'butterfly':{cn:'è´è¶', sound:'Butterfly'}, 
        'buzz':{cn:'å—¡å—¡å«', sound:'Buzz'}, 
        'by':{cn:'åœ¨...æ—é‚Š', sound:'Bye'},

        // --- C ---
        'cake':{cn:'è›‹ç³•', sound:'å®¢ke'}, 
        'came':{cn:'ä¾†(éå»å¼)', sound:'Came'}, 
        'camping':{cn:'éœ²ç‡Ÿ', sound:'Camping'}, 
        'can':{cn:'å¯ä»¥', sound:'Can'}, 
        'candle':{cn:'è Ÿç‡­', sound:'Candle'}, 
        'candles':{cn:'è Ÿç‡­', sound:'Candles'}, 
        'candy':{cn:'ç³–æœ', sound:'çœ‹dy'}, 
        'car':{cn:'æ±½è»Š', sound:'å¡ (KÇ)'}, 
        'carrot':{cn:'ç´…è˜¿è””', sound:'Caè‚‰'}, 
        'cat':{cn:'è²“', sound:'å®¢t'}, 
        'catch':{cn:'æ‰', sound:'Catch'}, 
        'caterpillar':{cn:'æ¯›èŸ²', sound:'Caterpillar'}, 
        'caught':{cn:'æ‰ä½(éå»å¼)', sound:'Cot'}, 
        'chair':{cn:'æ¤…å­', sound:'è½¦r'}, 
        'chairs':{cn:'æ¤…å­', sound:'Chairs'}, 
        'chase':{cn:'è¿½', sound:'Chase'}, 
        'chases':{cn:'è¿½', sound:'Chases'}, 
        'cheese':{cn:'èŠå£«', sound:'Cheese'}, 
        'chicken':{cn:'é›è‚‰', sound:'åƒcken'}, 
        'child':{cn:'å­©å­', sound:'Child'}, 
        'children':{cn:'å­©å­å€‘', sound:'Children'}, 
        'chip':{cn:'ç¢ç‰‡/æ™¶ç‰‡', sound:'Chip'}, 
        'chips':{cn:'è–¯ç‰‡/ç¢ç‰‡', sound:'Chips'}, 
        'chocolate':{cn:'æœ±å¤åŠ›', sound:'ChocoåŠ›'}, 
        'choose':{cn:'é¸æ“‡', sound:'Choose'}, 
        'cinema':{cn:'æˆ²é™¢', sound:'å¸Œnema'}, 
        'class':{cn:'ç­ç´š', sound:'Class'}, 
        'classroom':{cn:'èª²å®¤', sound:'Classå…¥'}, 
        'clean':{cn:'æ¸…æ½”', sound:'Clean'}, 
        'cleaned':{cn:'æ¸…æ½”(éå»å¼)', sound:'Cleaned'}, 
        'climbed':{cn:'çˆ¬(éå»å¼)', sound:'Climbed'}, 
        'close':{cn:'é—œ', sound:'Close'}, 
        'closed':{cn:'é—œ(éå»å¼)', sound:'Closed'}, 
        'clothes':{cn:'è¡£æœ', sound:'Clothes'}, 
        'cloud':{cn:'é›²', sound:'å…‹loud'}, 
        'cloudy':{cn:'å¤šé›²', sound:'Cloudy'}, 
        'coach':{cn:'æ•™ç·´', sound:'Coach'}, 
        'coat':{cn:'å¤–å¥—', sound:'Coat'}, 
        'cocoon':{cn:'ç¹­', sound:'Cocoon'}, 
        'coffee':{cn:'å’–å•¡', sound:'è€ƒffee'}, 
        'coin':{cn:'ç¡¬å¹£', sound:'Coin'}, 
        'cold':{cn:'å†·', sound:'å£ld'}, 
        'color':{cn:'é¡è‰²', sound:'å¡lor'}, 
        'come':{cn:'ä¾†', sound:'åº·'}, 
        'concert':{cn:'éŸ³æ¨‚æœƒ', sound:'Concert'}, 
        'cookie':{cn:'æ›²å¥‡', sound:'å“­kie'}, 
        'cookies':{cn:'æ›²å¥‡', sound:'å“­kies'}, 
        'corn':{cn:'ç²Ÿç±³', sound:'Corn'}, 
        'corner':{cn:'è§’è½', sound:'Corner'}, 
        'could':{cn:'èƒ½å¤ (éå»å¼)', sound:'Could'}, 
        'covers':{cn:'è¦†è“‹', sound:'Covers'}, 
        'crayon':{cn:'è Ÿç­†', sound:'Crayon'}, 
        'crayons':{cn:'è Ÿç­†', sound:'Crayons'}, 
        'crib':{cn:'å¬°å…’åºŠ', sound:'Crib'}, 
        'cries':{cn:'å“­', sound:'Cries'}, 
        'cucumber':{cn:'é’ç“œ', sound:'Cucumber'}, 
        'cucumbers':{cn:'é’ç“œ', sound:'Cucumbers'}, 
        'cup':{cn:'æ¯', sound:'Cup'}, 
        'cut':{cn:'å‰ª', sound:'å¡t'},

        // --- D ---
        'dad':{cn:'çˆ¸çˆ¸', sound:'Dad'}, 
        'dance':{cn:'è·³èˆ', sound:'è›‹ce'}, 
        'day':{cn:'å¤©', sound:'Day'}, 
        'decided':{cn:'æ±ºå®š(éå»å¼)', sound:'Decided'}, 
        'delicious':{cn:'ç¾å‘³', sound:'Delicious'}, 
        'desk':{cn:'æ›¸æ¡Œ', sound:'Dad sk'}, 
        'did':{cn:'åš(éå»å¼)', sound:'Did'}, 
        'digs':{cn:'æŒ–', sound:'Digs'}, 
        'dinosaur':{cn:'æé¾', sound:'Dinosaur'}, 
        'dinosaurs':{cn:'æé¾', sound:'Dinosaurs'}, 
        'dirt':{cn:'æ³¥åœŸ', sound:'Dirt'}, 
        'do':{cn:'åš', sound:'Do'}, 
        'doctor':{cn:'é†«ç”Ÿ', sound:'Doctor'}, 
        'does':{cn:'åš', sound:'Does'}, 
        'dog':{cn:'ç‹—', sound:'é“g'}, 
        'door':{cn:'é–€', sound:'å¤š'}, 
        'dough':{cn:'éºµåœ˜', sound:'Dough'}, 
        'down':{cn:'å‘ä¸‹', sound:'Down'}, 
        'drank':{cn:'å–(éå»å¼)', sound:'Drank'}, 
        'draw':{cn:'ç•«', sound:'æ¡Œ'}, 
        'dress':{cn:'è£™å­', sound:'Dress'}, 
        'dress-up':{cn:'è£æ‰®', sound:'Dress up'}, 
        'drink':{cn:'å–', sound:'è¿½nk'}, 
        'drive':{cn:'é§•é§›', sound:'æ‹½å¤«'}, 
        'driver':{cn:'å¸æ©Ÿ', sound:'Driver'}, 
        'drum':{cn:'é¼“', sound:'Drum'}, 
        'dusty':{cn:'å¤šå¡µ', sound:'Dusty'},

        // --- E ---
        'ear':{cn:'è€³', sound:'ä¸€r'}, 
        'eat':{cn:'åƒ', sound:'ä¸€t'}, 
        'ate':{cn:'åƒ(éå»å¼)', sound:'Ate'}, 
        'eating':{cn:'æ­£åœ¨åƒ', sound:'Eating'}, 
        'egg':{cn:'è›‹', sound:'çˆ±g'}, 
        'eggs':{cn:'è›‹', sound:'Eggs'}, 
        'elephant':{cn:'å¤§è±¡', sound:'çˆ±lephant'}, 
        'end':{cn:'çµæŸ', sound:'End'}, 
        'eraser':{cn:'æ“¦è† ', sound:'Eç‘ser'}, 
        'every':{cn:'æ¯ä¸€', sound:'Every'}, 
        'excited':{cn:'èˆˆå¥®', sound:'Exèµ›ted'}, 
        'eye':{cn:'çœ¼', sound:'çˆ±'}, 
        'eyes':{cn:'çœ¼', sound:'Eyes'},

        // --- F ---
        'faces':{cn:'è‡‰/é¬¼è‡‰', sound:'Faces'}, 
        'fairies':{cn:'ä»™å­', sound:'Fairies'}, 
        'fairy':{cn:'ä»™å­', sound:'Fairy'}, 
        'fall':{cn:'è½ä¸‹', sound:'Fall'}, 
        'family':{cn:'å®¶åº­', sound:'Family'}, 
        'fan':{cn:'é¢¨æ‰‡', sound:'Fan'}, 
        'far':{cn:'é ', sound:'å‘'}, 
        'farm':{cn:'è¾²å ´', sound:'Farm'}, 
        'fast':{cn:'å¿«', sound:'å‘st'}, 
        'fat':{cn:'è‚¥', sound:'Fat'}, 
        'favorite':{cn:'æœ€æ„›', sound:'Favorite'}, 
        'feel':{cn:'æ„Ÿè¦º', sound:'Feel'}, 
        'felt':{cn:'æ„Ÿè¦º(éå»å¼)', sound:'Felt'}, 
        'fell':{cn:'æ‰ä¸‹', sound:'Fell'}, 
        'filled':{cn:'è£æ»¿(éå»å¼)', sound:'Filled'}, 
        'find':{cn:'æ‰¾', sound:'Find'}, 
        'finger':{cn:'æ‰‹æŒ‡', sound:'èŠ¬ger'}, 
        'fire':{cn:'ç«', sound:'Fire'}, 
        'first':{cn:'ç¬¬ä¸€/é¦–å…ˆ', sound:'First'}, 
        'fish':{cn:'é­š', sound:'é£sh'}, 
        'five':{cn:'äº”', sound:'Five'}, 
        'flew':{cn:'é£›(éå»å¼)', sound:'Flew'}, 
        'floor':{cn:'åœ°æ¿', sound:'å¤«loor'}, 
        'flour':{cn:'éºµç²‰', sound:'Flour'}, 
        'flower':{cn:'èŠ±', sound:'å¯Œlower'}, 
        'flowers':{cn:'èŠ±', sound:'Flowers'}, 
        'flute':{cn:'é•·ç¬›', sound:'Flute'}, 
        'fly':{cn:'é£›', sound:'ç¦æ¥'}, 
        'food':{cn:'é£Ÿç‰©', sound:'Food'}, 
        'foot':{cn:'è…³', sound:'å¯Œt'}, 
        'for':{cn:'ç‚ºäº†', sound:'For'}, 
        'forest':{cn:'æ£®æ—', sound:'Forest'}, 
        'fork':{cn:'å‰', sound:'Fork'}, 
        'fort':{cn:'å ¡å£˜', sound:'Fort'}, 
        'found':{cn:'ç™¼ç¾(éå»å¼)', sound:'Found'}, 
        'friend':{cn:'æœ‹å‹', sound:'Friend'}, 
        'friends':{cn:'æœ‹å‹', sound:'Friends'}, 
        'from':{cn:'ä¾†è‡ª', sound:'From'}, 
        'front':{cn:'å‰é¢', sound:'Front'}, 
        'funny':{cn:'å¥½ç¬‘', sound:'Funny'},

        // --- G ---
        'game':{cn:'éŠæˆ²', sound:'Game'}, 
        'garden':{cn:'èŠ±åœ’', sound:'Gaç™»'}, 
        'gardening':{cn:'åœ’è—', sound:'Gardening'}, 
        'gave':{cn:'çµ¦(éå»å¼)', sound:'Gave'}, 
        'get':{cn:'æ‹¿/å–', sound:'Get'}, 
        'giraffe':{cn:'é•·é ¸é¹¿', sound:'Giraffe'}, 
        'go':{cn:'å»', sound:'ç‹—'}, 
        'goes':{cn:'å»', sound:'Goes'}, 
        'goal':{cn:'ç›®æ¨™/å…¥çƒ', sound:'Goal'}, 
        'good':{cn:'å¥½', sound:'Good'}, 
        'got':{cn:'å¾—åˆ°/å¼„åˆ°', sound:'Got'}, 
        'grandma':{cn:'ç¥–æ¯', sound:'Grandma'}, 
        'grape':{cn:'è‘¡è„', sound:'è´µpe'}, 
        'grass':{cn:'è‰', sound:'å¤rass'}, 
        'gray':{cn:'ç°è‰²', sound:'é¬¼'}, 
        'green':{cn:'ç¶ è‰²', sound:'å¤reen'}, 
        'ground':{cn:'åœ°é¢', sound:'Ground'}, 
        'grow':{cn:'ç”Ÿé•·', sound:'Grow'}, 
        'grows':{cn:'ç¨®æ¤', sound:'Grows'}, 
        'guard':{cn:'å®ˆè¡›/è­·å…·', sound:'Guard'}, 
        'guards':{cn:'è­·å…·', sound:'Guards'},

        // --- H ---
        'had':{cn:'æœ‰(éå»å¼)', sound:'Had'}, 
        'hand':{cn:'æ‰‹', sound:'æ±‰d'}, 
        'hands':{cn:'æ‰‹', sound:'Hands'}, 
        'happened':{cn:'ç™¼ç”Ÿ', sound:'Happened'}, 
        'happy':{cn:'é–‹å¿ƒ', sound:'å“ˆppy'}, 
        'hard':{cn:'ç¡¬/å¤§(é›¨)', sound:'Hard'}, 
        'has':{cn:'æœ‰', sound:'Has'}, 
        'hat':{cn:'å¸½å­', sound:'Hat'}, 
        'have':{cn:'æœ‰', sound:'Have'}, 
        'he':{cn:'ä»–', sound:'He'}, 
        'head':{cn:'é ­', sound:'é»‘d'}, 
        'help':{cn:'å¹«å¿™', sound:'Help'}, 
        'helps':{cn:'å¹«å¿™', sound:'Helps'}, 
        'her':{cn:'å¥¹çš„', sound:'Her'}, 
        'hide':{cn:'èº²è—', sound:'Hide'}, 
        'his':{cn:'ä»–çš„', sound:'His'}, 
        'hiss':{cn:'å˜¶å˜¶è²', sound:'Hiss'}, 
        'hisses':{cn:'ç™¼å‡ºå˜¶å˜¶è²', sound:'Hisses'}, 
        'hole':{cn:'æ´', sound:'Hole'}, 
        'home':{cn:'å®¶', sound:'åm'}, 
        'honk':{cn:'éŸ¿å’¹', sound:'Honk'}, 
        'honks':{cn:'éŸ¿å’¹', sound:'Honks'}, 
        'hope':{cn:'å¸Œæœ›', sound:'Hope'}, 
        'hoped':{cn:'å¸Œæœ›(éå»å¼)', sound:'Hoped'}, 
        'horn':{cn:'å–‡å­', sound:'Horn'}, 
        'hose':{cn:'æ°´å–‰', sound:'Hose'}, 
        'hospital':{cn:'é†«é™¢', sound:'å¥½spital'}, 
        'hot':{cn:'ç†±', sound:'å¥½t'}, 
        'hotel':{cn:'é…’åº—', sound:'å¥½tel'}, 
        'house':{cn:'å±‹', sound:'House'}, 
        'how':{cn:'å¦‚ä½•', sound:'How'}, 
        'hungry':{cn:'é¤“', sound:'æ­gry'}, 
        'hurt':{cn:'ç—›', sound:'Hurt'},

        // --- I ---
        'i':{cn:'æˆ‘', sound:'Eye'}, 
        'ice':{cn:'å†°', sound:'Ice'}, 
        'if':{cn:'å¦‚æœ', sound:'If'}, 
        'in':{cn:'åœ¨...è£¡', sound:'In'}, 
        'inside':{cn:'è£¡é¢', sound:'Inside'}, 
        'instrument':{cn:'æ¨‚å™¨', sound:'Instrument'}, 
        'is':{cn:'æ˜¯', sound:'Is'}, 
        'it':{cn:'å®ƒ', sound:'It'}, 
        'its':{cn:'å®ƒçš„', sound:'Its'},

        // --- J ---
        'jam':{cn:'æœé†¬', sound:'Jam'}, 
        'jeans':{cn:'ç‰›ä»”è¤²', sound:'Jeans'}, 
        'jersey':{cn:'çƒè¡£', sound:'Jersey'}, 
        'jones':{cn:'Jones (å§“æ°)', sound:'Jones'}, 
        'juice':{cn:'æœæ±', sound:'çŒªs'}, 
        'jump':{cn:'è·³', sound:'å¼ p'}, 
        'just':{cn:'åªæ˜¯', sound:'Just'},

        // --- K ---
        'keep':{cn:'ä¿æŒ', sound:'Keep'}, 
        'kick':{cn:'è¸¢', sound:'Kick'}, 
        'kicks':{cn:'è¸¢', sound:'Kicks'}, 
        'kid':{cn:'å°å­©', sound:'Kid'}, 
        'kitchen':{cn:'å»šæˆ¿', sound:'Kitchè‡£'}, 
        'kite':{cn:'é¢¨ç®', sound:'Kite'}, 
        'knee':{cn:'è†è“‹', sound:'Knee'},

        // --- L ---
        'laces':{cn:'é‹å¸¶', sound:'Laces'}, 
        'ladder':{cn:'æ¢¯å­', sound:'Ladder'}, 
        'ladybug':{cn:'ç“¢èŸ²', sound:'Ladybug'}, 
        'last':{cn:'æœ€å¾Œ', sound:'Last'}, 
        'later':{cn:'ä¹‹å¾Œ', sound:'Later'}, 
        'leaf':{cn:'è‘‰', sound:'Leaf'}, 
        'learned':{cn:'å­¸ç¿’(éå»å¼)', sound:'Learned'}, 
        'leaves':{cn:'è‘‰å­', sound:'Leaves'}, 
        'leaving':{cn:'é›¢é–‹', sound:'Leaving'}, 
        'left':{cn:'å·¦', sound:'æ¥ft'}, 
        'leg':{cn:'è…¿', sound:'æ¥g'}, 
        'library':{cn:'åœ–æ›¸é¤¨', sound:'æ¥brary'}, 
        'lights':{cn:'ç‡ˆ', sound:'Lights'}, 
        'like':{cn:'å–œæ­¡/åƒ', sound:'Like'}, 
        'likes':{cn:'å–œæ­¡', sound:'Likes'}, 
        'lily':{cn:'Lily (åå­—)', sound:'Lily'}, 
        'lion':{cn:'ç…å­', sound:'æ¥on'}, 
        'lions':{cn:'ç…å­', sound:'Lions'}, 
        'little':{cn:'å°çš„', sound:'Little'}, 
        'living':{cn:'ç”Ÿæ´»', sound:'Living'}, 
        'long':{cn:'é•·', sound:'Long'}, 
        'look':{cn:'çœ‹', sound:'Look'}, 
        'looked':{cn:'çœ‹(éå»å¼)', sound:'Looked'}, 
        'looking':{cn:'æ­£åœ¨çœ‹', sound:'Looking'}, 
        'loose':{cn:'é¬†å‹•', sound:'Loose'}, 
        'lost':{cn:'å¤±å»', sound:'Lost'}, 
        'loudly':{cn:'å¤§è²åœ°', sound:'Loudly'}, 
        'love':{cn:'æ„›', sound:'Love'}, 
        'loves':{cn:'æ„›', sound:'Loves'}, 
        'luna':{cn:'Luna (åå­—)', sound:'Luna'}, 
        'lunch':{cn:'åˆé¤', sound:'Lunch'},

        // --- M ---
        'made':{cn:'åš(éå»å¼)', sound:'Made'}, 
        'magic':{cn:'é­”æ³•', sound:'Magic'}, 
        'magnet':{cn:'ç£çŸ³', sound:'Magnet'}, 
        'make':{cn:'åš', sound:'Make'}, 
        'making':{cn:'æ­£åœ¨åš', sound:'Making'}, 
        'many':{cn:'å¾ˆå¤š', sound:'Many'}, 
        'market':{cn:'å¸‚å ´', sound:'å¦ˆket'}, 
        'marshmallow':{cn:'æ£‰èŠ±ç³–', sound:'Marshmallow'}, 
        'marshmallows':{cn:'æ£‰èŠ±ç³–', sound:'Marshmallows'}, 
        'max':{cn:'Max (åå­—)', sound:'Max'}, 
        'me':{cn:'æˆ‘', sound:'Me'}, 
        'meat':{cn:'è‚‰', sound:'ç±³t'}, 
        'mia':{cn:'Mia (åå­—)', sound:'Mia'}, 
        'mike':{cn:'Mike (åå­—)', sound:'Mike'}, 
        'milk':{cn:'ç‰›å¥¶', sound:'è°¬k'}, 
        'mix':{cn:'æ··åˆ', sound:'Mix'}, 
        'mixes':{cn:'æ··åˆ', sound:'Mixes'}, 
        'mom':{cn:'åª½åª½', sound:'Mom'}, 
        'monday':{cn:'æ˜ŸæœŸä¸€', sound:'Monday'}, 
        'money':{cn:'éŒ¢', sound:'Money'}, 
        'monkey':{cn:'çŒ´å­', sound:'å¿™key'}, 
        'monster':{cn:'æ€ªç‰©', sound:'Monster'}, 
        'monsters':{cn:'æ€ªç‰©', sound:'Monsters'}, 
        'month':{cn:'æœˆ', sound:'Month'}, 
        'moon':{cn:'æœˆäº®', sound:'æœ¨n'}, 
        'morning':{cn:'æ—©ä¸Š', sound:'Morning'}, 
        'mostly':{cn:'ä¸»è¦', sound:'Mostly'}, 
        'moth':{cn:'è›¾', sound:'Moth'}, 
        'mother':{cn:'æ¯è¦ª', sound:'Mother'}, 
        'motorbike':{cn:'é›»å–®è»Š', sound:'Motoæ‹œ'}, 
        'mountain':{cn:'å±±', sound:'å¿™tain'}, 
        'mouse':{cn:'è€é¼ ', sound:'çŒ«se'}, 
        'mouth':{cn:'å˜´', sound:'å¦ˆth'}, 
        'movie':{cn:'é›»å½±', sound:'Movie'}, 
        'mr':{cn:'å…ˆç”Ÿ', sound:'Mister'}, 
        'much':{cn:'å¤š', sound:'Much'}, 
        'mud':{cn:'æ³¥', sound:'Mud'}, 
        'mushroom':{cn:'è˜‘è‡', sound:'Mushroom'}, 
        'mushrooms':{cn:'è˜‘è‡', sound:'Mushrooms'}, 
        'music':{cn:'éŸ³æ¨‚', sound:'Music'}, 
        'musical':{cn:'éŸ³æ¨‚çš„', sound:'Musical'}, 
        'must':{cn:'å¿…é ˆ', sound:'Must'}, 
        'my':{cn:'æˆ‘çš„', sound:'My'},

        // --- N ---
        'name':{cn:'åå­—', sound:'Name'}, 
        'naps':{cn:'å°ç¡', sound:'Naps'}, 
        'near':{cn:'è¿‘', sound:'ä½ '}, 
        'need':{cn:'éœ€è¦', sound:'Need'}, 
        'neighbors':{cn:'é„°å±…', sound:'Neighbors'}, 
        'nest':{cn:'å·¢', sound:'Nest'}, 
        'new':{cn:'æ–°çš„', sound:'New'}, 
        'no':{cn:'ä¸', sound:'No'}, 
        'noodles':{cn:'éºµæ¢', sound:'ç‰›dles'}, 
        'nose':{cn:'é¼»', sound:'Noæ­»'}, 
        'not':{cn:'ä¸', sound:'Not'}, 
        'now':{cn:'ç¾åœ¨', sound:'Now'}, 
        'nut':{cn:'å …æœ', sound:'Nut'},

        // --- O ---
        'of':{cn:'çš„', sound:'Ov'}, 
        'off':{cn:'é›¢é–‹/è„«ä¸‹', sound:'Off'}, 
        'oil':{cn:'æ²¹', sound:'Oil'}, 
        'old':{cn:'èˆŠ/è€', sound:'Old'}, 
        'on':{cn:'åœ¨...ä¸Šé¢', sound:'On'}, 
        'one':{cn:'ä¸€', sound:'One'}, 
        'ones':{cn:'é‚£äº›', sound:'Ones'}, 
        'onion':{cn:'æ´‹è”¥', sound:'Onion'}, 
        'onions':{cn:'æ´‹è”¥', sound:'Onions'}, 
        'only':{cn:'åªæœ‰', sound:'Only'}, 
        'opened':{cn:'æ‰“é–‹(éå»å¼)', sound:'Opened'}, 
        'orange':{cn:'æ©™è‰²', sound:'å™¢æ¶¦ä¹‹'}, 
        'our':{cn:'æˆ‘å€‘çš„', sound:'Our'}, 
        'out':{cn:'å‡ºå»', sound:'Out'}, 
        'outside':{cn:'å¤–é¢', sound:'Outside'}, 
        'oven':{cn:'ç„—çˆ', sound:'Oven'}, 
        'over':{cn:'åœ¨...ä¹‹ä¸Š', sound:'Over'},

        // --- P ---
        'paint':{cn:'é¡æ–™/ç•«', sound:'å–·t'}, 
        'pants':{cn:'è¤²å­', sound:'Pants'}, 
        'parents':{cn:'çˆ¶æ¯', sound:'Parents'}, 
        'park':{cn:'å…¬åœ’', sound:'æ€•k'}, 
        'party':{cn:'æ´¾å°', sound:'Party'}, 
        'paste':{cn:'è²¼', sound:'é…st'}, 
        'peas':{cn:'è±†', sound:'Peas'}, 
        'pedal':{cn:'è¸æ¿', sound:'Pedal'}, 
        'pedaling':{cn:'è¸©å–®è»Š', sound:'Pedaling'}, 
        'peel':{cn:'çš®', sound:'Peel'}, 
        'pen':{cn:'ç­†', sound:'ç›†'}, 
        'pencil':{cn:'é‰›ç­†', sound:'Penæ‰‹'}, 
        'pepperoni':{cn:'è¾£é¦™è…¸', sound:'Pepperoni'}, 
        'peppers':{cn:'æ¤’', sound:'Peppers'}, 
        'piano':{cn:'é‹¼ç´', sound:'Piano'}, 
        'pick':{cn:'æ‘˜', sound:'Pick'}, 
        'picking':{cn:'æ‘˜', sound:'Picking'}, 
        'picture':{cn:'åœ–ç•«', sound:'Picture'}, 
        'pie':{cn:'æ‰¹', sound:'Pie'}, 
        'pillow':{cn:'æ•é ­', sound:'Pillow'}, 
        'pink':{cn:'ç²‰ç´…è‰²', sound:'è˜k'}, 
        'pizza':{cn:'è–„é¤…', sound:'Pizza'}, 
        'place':{cn:'åœ°æ–¹', sound:'Place'}, 
        'plane':{cn:'é£›æ©Ÿ', sound:'æ™®lane'}, 
        'plant':{cn:'æ¤ç‰©', sound:'Plant'}, 
        'planting':{cn:'ç¨®æ¤', sound:'Planting'}, 
        'plants':{cn:'æ¤ç‰©', sound:'Plants'}, 
        'play':{cn:'ç©', sound:'æ™®lay'}, 
        'played':{cn:'ç©(éå»å¼)', sound:'Played'}, 
        'playground':{cn:'éŠæ¨‚å ´', sound:'Playå…‰'}, 
        'please':{cn:'è«‹', sound:'Please'}, 
        'pocket':{cn:'å£è¢‹', sound:'Pocket'}, 
        'pool':{cn:'æ³³æ± ', sound:'Pool'}, 
        'popcorn':{cn:'çˆ†è°·', sound:'Popcorn'}, 
        'potatoes':{cn:'è–¯ä»”', sound:'Potatoes'}, 
        'practice':{cn:'ç·´ç¿’', sound:'Practice'}, 
        'princess':{cn:'å…¬ä¸»', sound:'Princess'}, 
        'proud':{cn:'è‡ªè±ª', sound:'Proud'}, 
        'pull':{cn:'æ‹‰', sound:'Pull'}, 
        'pulled':{cn:'æ‹‰(éå»å¼)', sound:'Pulled'}, 
        'pumpkin':{cn:'å—ç“œ', sound:'Pumpkin'}, 
        'purple':{cn:'ç´«è‰²', sound:'å©†ple'}, 
        'purr':{cn:'å‘¼åš•è²', sound:'Purr'}, 
        'purrs':{cn:'ç™¼å‡ºå‘¼åš•è²', sound:'Purrs'}, 
        'push':{cn:'æ¨', sound:'Push'}, 
        'pushed':{cn:'æ¨(éå»å¼)', sound:'Pushed'}, 
        'put':{cn:'æ”¾', sound:'Put'}, 
        'puts':{cn:'æ”¾', sound:'Puts'},

        // --- Q ---
        'quiet':{cn:'å®‰éœ', sound:'Quiet'},

        // --- R ---
        'rabbit':{cn:'å…”', sound:'ç‘bbit'}, 
        'rain':{cn:'é›¨', sound:'ç‘n'}, 
        'rainbow':{cn:'å½©è™¹', sound:'Rainbow'}, 
        'raining':{cn:'ä¸‹é›¨ä¸­', sound:'Raining'}, 
        'rainy':{cn:'ä¸‹é›¨çš„', sound:'Rainy'}, 
        'read':{cn:'é–±è®€', sound:'ç‘d'}, 
        'red':{cn:'ç´…è‰²', sound:'ç‘d'}, 
        'restaurant':{cn:'é¤å»³', sound:'ç‘staurant'}, 
        'return':{cn:'æ­¸é‚„', sound:'Return'}, 
        'rice':{cn:'é£¯', sound:'ç‘s'}, 
        'ride':{cn:'é¨', sound:'åçš„'}, 
        'riding':{cn:'æ­£åœ¨é¨', sound:'Riding'}, 
        'right':{cn:'å³/å°', sound:'ç‘'}, 
        'river':{cn:'æ²³', sound:'ç‘ver'}, 
        'roaring':{cn:'å’†å“®', sound:'Roaring'}, 
        'roast':{cn:'çƒ¤', sound:'Roast'}, 
        'roasted':{cn:'çƒ¤(éå»å¼)', sound:'Roasted'}, 
        'rock':{cn:'å²©çŸ³', sound:'Rock'}, 
        'roof':{cn:'å±‹é ‚', sound:'å…¥f'}, 
        'room':{cn:'æˆ¿é–“', sound:'Room'}, 
        'rose':{cn:'ç«ç‘°/Rose (åå­—)', sound:'Rose'}, 
        'row':{cn:'æ’', sound:'Row'}, 
        'rug':{cn:'åœ°æ¯¯', sound:'Rug'}, 
        'ruler':{cn:'å°º', sound:'å…¥ler'}, 
        'run':{cn:'è·‘', sound:'æ¶¦ (RÃ¹n)'}, 
        'running':{cn:'æ­£åœ¨è·‘', sound:'Running'}, 
        'runs':{cn:'è·‘', sound:'Runs'},

        // --- S ---
        'sad':{cn:'å‚·å¿ƒ', sound:'æ€d'}, 
        'said':{cn:'èªª(éå»å¼)', sound:'Said'}, 
        'sail':{cn:'å¸†', sound:'Sail'}, 
        'sails':{cn:'å¸†', sound:'Sails'},
        'sally':{cn:'Sally (åå­—)', sound:'Sally'},
        'salmon':{cn:'é®ªé­š', sound:'Salmon'},
        'salt':{cn:'é¹½', sound:'Sal'},
        'salted':{cn:'é¹½(éå»å¼)', sound:'Salted'},
        'salad':{cn:'æ²™å¾‹', sound:'Salad'}, 
        'sam':{cn:'Sam (åå­—)', sound:'Sam'}, 
        'sandcastle':{cn:'æ²™å ¡', sound:'Sandcastle'}, 
        'sandwich':{cn:'ä¸‰æ–‡æ²»', sound:'Sandwich'}, 
        'sang':{cn:'å”±(éå»å¼)', sound:'Sang'}, 
        'santa':{cn:'è–èª•è€äºº', sound:'Santa'}, 
        'sarah':{cn:'Sarah (åå­—)', sound:'Sarah'}, 
        'sat':{cn:'å(éå»å¼)', sound:'Sat'}, 
        'sauce':{cn:'é†¬æ±', sound:'Sauce'}, 
        'sausage':{cn:'é¦™è…¸', sound:'Sausage'}, 
        'saw':{cn:'çœ‹è¦‹(éå»å¼)', sound:'Saw'}, 
        'scared':{cn:'å®³æ€•', sound:'æ­»cared'}, 
        'scary':{cn:'ææ€–', sound:'Scary'}, 
        'school':{cn:'å­¸æ ¡', sound:'æ­»å¤'}, 
        'score':{cn:'å¾—åˆ†', sound:'Score'}, 
        'scored':{cn:'å¾—åˆ†(éå»å¼)', sound:'Scored'}, 
        'scratched':{cn:'æŠ“/åˆ®', sound:'Scratched'}, 
        'sea':{cn:'æµ·', sound:'Sea'}, 
        'seatbelts':{cn:'å®‰å…¨å¸¶', sound:'Seatbelts'}, 
        'see':{cn:'çœ‹è¦‹', sound:'See'}, 
        'seed':{cn:'ç¨®å­', sound:'Seed'}, 
        'seeds':{cn:'ç¨®å­', sound:'Seeds'}, 
        'seek':{cn:'å°‹æ‰¾', sound:'Seek'}, 
        'seven':{cn:'ä¸ƒ', sound:'Seven'}, 
        'she':{cn:'å¥¹', sound:'She'}, 
        'shell':{cn:'è²æ®¼', sound:'Shell'}, 
        'shin':{cn:'è„›', sound:'Shin'}, 
        'shiny':{cn:'é–ƒäº®', sound:'Shiny'}, 
        'ship':{cn:'èˆ¹', sound:'æ´—æ™®'}, 
        'shirt':{cn:'è¥¯è¡«', sound:'Shirt'}, 
        'shoe':{cn:'é‹', sound:'Shoe'}, 
        'shoes':{cn:'é‹', sound:'Shoes'}, 
        'shop':{cn:'å•†åº—', sound:'å¤p'}, 
        'short':{cn:'çŸ­', sound:'Short'}, 
        'shovel':{cn:'éŸ', sound:'Shovel'}, 
        'sick':{cn:'ç”Ÿç—…', sound:'è¥¿ck'}, 
        'sing':{cn:'å”±', sound:'æ˜Ÿ'}, 
        'singing':{cn:'æ­£åœ¨å”±', sound:'Singing'}, 
        'sister':{cn:'å§å¦¹', sound:'Sister'}, 
        'sit':{cn:'å', sound:'Sit'}, 
        'sitting':{cn:'æ­£åœ¨å', sound:'Sitting'}, 
        'six':{cn:'å…­', sound:'Six'}, 
        'sky':{cn:'å¤©ç©º', sound:'Sky'}, 
        'sleep':{cn:'ç¡è¦º', sound:'æ­»leep'}, 
        'sleeping':{cn:'æ­£åœ¨ç¡', sound:'Sleeping'}, 
        'sleepy':{cn:'æƒ³ç¡', sound:'æ­»leepy'}, 
        'slept':{cn:'ç¡(éå»å¼)', sound:'Slept'}, 
        'slipped':{cn:'æ»‘å€’', sound:'Slipped'}, 
        'slow':{cn:'æ…¢', sound:'æ­»low'}, 
        'small':{cn:'å°', sound:'æ­»mall'}, 
        'smells':{cn:'èèµ·ä¾†', sound:'Smells'}, 
        'smile':{cn:'å¾®ç¬‘', sound:'Smile'}, 
        'smith':{cn:'Smith (å§“æ°)', sound:'Smith'}, 
        'snack':{cn:'é›¶é£Ÿ', sound:'Snack'}, 
        'snow':{cn:'é›ª', sound:'Snow'}, 
        'snowman':{cn:'é›ªäºº', sound:'Snowman'}, 
        'snowy':{cn:'ä¸‹é›ªçš„', sound:'Snowy'}, 
        'soccer':{cn:'è¶³çƒ', sound:'Soccer'}, 
        'soft':{cn:'è»Ÿ', sound:'Soft'}, 
        'some':{cn:'ä¸€äº›', sound:'Some'}, 
        'something':{cn:'æŸäº‹', sound:'Something'}, 
        'sometimes':{cn:'æœ‰æ™‚', sound:'Sometimes'}, 
        'song':{cn:'æ­Œ', sound:'Song'}, 
        'songs':{cn:'æ­Œ', sound:'Songs'}, 
        'soon':{cn:'å¾ˆå¿«', sound:'Soon'}, 
        'sound':{cn:'è²éŸ³', sound:'Sound'}, 
        'soup':{cn:'æ¹¯', sound:'Soup'}, 
        'space':{cn:'å¤ªç©º', sound:'Space'}, 
        'spider':{cn:'èœ˜è››', sound:'Spider'}, 
        'spin':{cn:'æ—‹è½‰/ç´¡', sound:'Spin'}, 
        'spiral':{cn:'èºæ—‹', sound:'Spiral'}, 
        'splash':{cn:'æ¿ºæ°´è²', sound:'Splash'}, 
        'sponge':{cn:'æµ·ç¶¿', sound:'Sponge'}, 
        'spooky':{cn:'ææ€–', sound:'Spooky'}, 
        'spoon':{cn:'åŒ™ç¾¹', sound:'Spoon'}, 
        'sports':{cn:'é‹å‹•', sound:'Sports'}, 
        'spray':{cn:'å™´', sound:'Spray'}, 
        'sprayed':{cn:'å™´(éå»å¼)', sound:'Sprayed'}, 
        'spun':{cn:'ç´¡(éå»å¼)', sound:'Spun'}, 
        'squeak':{cn:'å±å±è²', sound:'Squeak'}, 
        'squirrel':{cn:'æ¾é¼ ', sound:'Squirrel'}, 
        'stage':{cn:'èˆå°', sound:'Stage'}, 
        'stand':{cn:'ç«™ç«‹', sound:'Stand'}, 
        'star':{cn:'æ˜Ÿ', sound:'æ–¯tar'}, 
        'stars':{cn:'æ˜Ÿ', sound:'Stars'}, 
        'start':{cn:'é–‹å§‹', sound:'Start'}, 
        'still':{cn:'ä»ç„¶', sound:'Still'}, 
        'stop':{cn:'åœæ­¢', sound:'æ­»top'}, 
        'stops':{cn:'åœæ­¢', sound:'Stops'}, 
        'store':{cn:'å•†åº—', sound:'Store'}, 
        'stories':{cn:'æ•…äº‹', sound:'Stories'}, 
        'story':{cn:'æ•…äº‹', sound:'Story'}, 
        'straight':{cn:'ç›´', sound:'æ­»traight'}, 
        'strange':{cn:'å¥‡æ€ª', sound:'Strange'}, 
        'strawberry':{cn:'å£«å¤šå•¤æ¢¨', sound:'Strawberry'}, 
        'strong':{cn:'å¼·å£¯', sound:'Strong'}, 
        'suddenly':{cn:'çªç„¶', sound:'Suddenly'}, 
        'sugar':{cn:'ç³–', sound:'Sugar'}, 
        'summer':{cn:'å¤å¤©', sound:'Summer'}, 
        'sun':{cn:'å¤ªé™½', sound:'ä¸‰'}, 
        'sunday':{cn:'æ˜ŸæœŸæ—¥', sound:'Sunday'}, 
        'sunny':{cn:'é™½å…‰æ™®ç…§', sound:'Sunny'}, 
        'sunset':{cn:'æ—¥è½', sound:'Sunset'}, 
        'supermarket':{cn:'è¶…å¸‚', sound:'è‹per market'}, 
        'sweet':{cn:'ç”œ', sound:'Sweet'}, 
        'swim':{cn:'æ¸¸æ³³', sound:'æ­»wim'}, 
        'swimsuit':{cn:'æ³³è¡£', sound:'Swimsuit'},

        // --- T ---
        'table':{cn:'æ¡Œå­', sound:'å¤ªble'}, 
        'tag':{cn:'æ‰è¿·è—', sound:'Tag'}, 
        'tail':{cn:'å°¾å·´', sound:'Tail'}, 
        'take':{cn:'æ‹¿', sound:'Take'}, 
        'takes':{cn:'æ‹¿/å¸¶å»', sound:'Takes'}, 
        'tall':{cn:'é«˜', sound:'å¤´ll'}, 
        'tap':{cn:'è¼•æ‹è²', sound:'Tap'}, 
        'taxi':{cn:'çš„å£«', sound:'å¤ªå¯æƒœ'}, 
        'tea':{cn:'èŒ¶', sound:'ä½“'}, 
        'teach':{cn:'æ•™', sound:'Teach'}, 
        'teacher':{cn:'è€å¸«', sound:'Teacher'}, 
        'teaches':{cn:'æ•™', sound:'Teaches'}, 
        'team':{cn:'éšŠä¼', sound:'Team'}, 
        'teeth':{cn:'ç‰™é½’', sound:'Teeth'}, 
        'tells':{cn:'å‘Šè¨´', sound:'Tells'}, 
        'tent':{cn:'å¸³ç¯·', sound:'Tent'}, 
        'test':{cn:'æ¸¬è©¦', sound:'Test'}, 
        'that':{cn:'é‚£', sound:'That'}, 
        'the':{cn:'é€™/é‚£', sound:'The'}, 
        'them':{cn:'ä»–å€‘', sound:'Them'}, 
        'then':{cn:'ç„¶å¾Œ', sound:'Then'}, 
        'there':{cn:'é‚£è£¡', sound:'There'}, 
        'they':{cn:'ä»–å€‘', sound:'They'}, 
        'thin':{cn:'ç˜¦', sound:'Thin'}, 
        'thirsty':{cn:'å£æ¸´', sound:'Thiræ­»ty'}, 
        'three':{cn:'ä¸‰', sound:'Three'}, 
        'thunder':{cn:'é›·', sound:'Thunder'}, 
        'thunderstorm':{cn:'é›·æš´', sound:'Thunderstorm'}, 
        'tiger':{cn:'è€è™', sound:'æ³°ger'}, 
        'tired':{cn:'ç´¯', sound:'å¤ªrd'}, 
        'to':{cn:'å»/å‘', sound:'To'}, 
        'today':{cn:'ä»Šå¤©', sound:'Today'}, 
        'told':{cn:'å‘Šè¨´(éå»å¼)', sound:'Told'}, 
        'tom':{cn:'Tom (åå­—)', sound:'Tom'}, 
        'tomato':{cn:'ç•ªèŒ„', sound:'Toå¦ˆto'}, 
        'tomatoes':{cn:'ç•ªèŒ„', sound:'Tomatoes'}, 
        'too':{cn:'å¤ª/ä¹Ÿ', sound:'Too'}, 
        'took':{cn:'æ‹¿(éå»å¼)', sound:'Took'}, 
        'tooth':{cn:'ç‰™é½’', sound:'Tooth'}, 
        'topic':{cn:'é¡Œç›®', sound:'Topic'}, 
        'tortillas':{cn:'è–„é¤…', sound:'Tortillas'}, 
        'towel':{cn:'æ¯›å·¾', sound:'Towel'}, 
        'tower':{cn:'å¡”', sound:'Tower'}, 
        'toy':{cn:'ç©å…·', sound:'Toy'}, 
        'toys':{cn:'ç©å…·', sound:'Toys'}, 
        'train':{cn:'ç«è»Š', sound:'å‚ (ChuÃ­) n'}, 
        'trained':{cn:'è¨“ç·´', sound:'Trained'},
        'training':{cn:'è¨“ç·´', sound:'Training'},
        'trains':{cn:'ç«è»Š', sound:'Trains'},
        'transport':{cn:'é‹è¼¸', sound:'Transport'},
        'trapped':{cn:'å›°ä½', sound:'Trapped'}, 
        'trash':{cn:'åƒåœ¾', sound:'Trash'}, 
        'tree':{cn:'æ¨¹', sound:'å¹'}, 
        'trees':{cn:'æ¨¹', sound:'Trees'},
        'trick':{cn:'è©­è¨ˆ', sound:'Trick'}, 
        'trip':{cn:'æ—…ç¨‹', sound:'Trip'}, 
        'trips':{cn:'æ—…ç¨‹', sound:'Trips'},
        'tripped':{cn:'çµ†å€’', sound:'Tripped'}, 
        'trouble':{cn:'å›°æ“¾', sound:'Trouble'},
        'truck':{cn:'å¡è»Š', sound:'å‡ºck'},
        'trucks':{cn:'å¡è»Š', sound:'Trucks'}, 
        'trunk':{cn:'è±¡é¼»/æ¨¹å¹¹', sound:'Trunk'}, 
        'try':{cn:'å˜—è©¦', sound:'Try'}, 
        'tuesday':{cn:'æ˜ŸæœŸäºŒ', sound:'Tuesday'}, 
        'tummy':{cn:'è‚šå­', sound:'Tummy'}, 
        'turn':{cn:'è½‰', sound:'Turn'}, 
        'twitched':{cn:'æŠ½å‹•', sound:'Twitched'}, 
        'two':{cn:'äºŒ', sound:'Two'},

        // --- U ---
        'under':{cn:'åœ¨...ä¸‹é¢', sound:'Under'}, 
        'untie':{cn:'é¬†é–‹', sound:'Untie'}, 
        'until':{cn:'ç›´åˆ°', sound:'Until'}, 
        'up':{cn:'å‘ä¸Š', sound:'Up'}, 
        'us':{cn:'æˆ‘å€‘', sound:'Us'}, 
        'used':{cn:'ç”¨(éå»å¼)', sound:'Used'},

        // --- V ---
        'vanilla':{cn:'é›²å‘¢æ‹¿', sound:'Vanilla'}, 
        'vegetable':{cn:'è”¬èœ', sound:'Veg table'}, 
        'vegetables':{cn:'è”¬èœ', sound:'Vegetables'}, 
        'very':{cn:'éå¸¸', sound:'Very'}, 
        'violin':{cn:'å°æç´', sound:'Violin'},

        // --- W ---
        'walk':{cn:'èµ°è·¯', sound:'æˆ‘å…‹'}, 
        'wall':{cn:'ç‰†', sound:'æˆ‘ll'}, 
        'wanted':{cn:'æƒ³è¦', sound:'Wanted'}, 
        'warm':{cn:'æº«æš–', sound:'Warm'}, 
        'was':{cn:'æ˜¯/åœ¨(éå»å¼)', sound:'Was'}, 
        'washed':{cn:'æ´—(éå»å¼)', sound:'Washed'}, 
        'washing':{cn:'æ´—', sound:'Washing'}, 
        'watched':{cn:'è§€çœ‹', sound:'Watched'}, 
        'water':{cn:'æ°´', sound:'æˆ‘ter'}, 
        'watercolors':{cn:'æ°´å½©', sound:'Watercolors'}, 
        'watermelon':{cn:'è¥¿ç“œ', sound:'Waterå¦ˆ'}, 
        'watering':{cn:'æ·‹æ°´', sound:'Watering'}, 
        'waters':{cn:'æ°´/æ·‹æ°´', sound:'Waters'}, 
        'wave':{cn:'æ®æ‰‹', sound:'Wave'}, 
        'waves':{cn:'æ®æ‰‹', sound:'Waves'}, 
        'wear':{cn:'ç©¿', sound:'Wear'}, 
        'weather':{cn:'å¤©æ°£', sound:'Weather'}, 
        'web':{cn:'ç¶²', sound:'Web'}, 
        'week':{cn:'æ˜ŸæœŸ', sound:'Week'}, 
        'went':{cn:'å»(éå»å¼)', sound:'Went'}, 
        'were':{cn:'æ˜¯(éå»å¼)', sound:'Were'}, 
        'wet':{cn:'æ¿•', sound:'Wet'}, 
        'what':{cn:'ä»€éº¼', sound:'What'}, 
        'wheels':{cn:'è»Šè¼ª', sound:'Wheels'}, 
        'when':{cn:'ç•¶...æ™‚', sound:'When'}, 
        'where':{cn:'å“ªè£¡', sound:'Where'}, 
        'which':{cn:'å“ªä¸€å€‹', sound:'Which'}, 
        'while':{cn:'ç•¶...æ™‚', sound:'While'}, 
        'whiskers':{cn:'Whiskers (è²“å)', sound:'Whiskers'}, 
        'white':{cn:'ç™½è‰²', sound:'å¤–t'}, 
        'who':{cn:'èª°', sound:'Who'}, 
        'whose':{cn:'èª°çš„', sound:'Whose'}, 
        'why':{cn:'ç‚ºä»€éº¼', sound:'Why'}, 
        'wiggle':{cn:'æ‰­å‹•', sound:'Wiggle'}, 
        'wiggled':{cn:'æ‰­å‹•(éå»å¼)', sound:'Wiggled'}, 
        'will':{cn:'å°‡æœƒ', sound:'Will'}, 
        'window':{cn:'çª—', sound:'Winæ–—'}, 
        'windows':{cn:'çª—', sound:'Windows'}, 
        'wings':{cn:'ç¿…è†€', sound:'Wings'}, 
        'winter':{cn:'å†¬å¤©', sound:'Winter'}, 
        'with':{cn:'å’Œ', sound:'With'}, 
        'wooden':{cn:'æœ¨è£½', sound:'Wooden'}, 
        'worm':{cn:'èŸ²', sound:'Worm'}, 
        'would':{cn:'å°‡æœƒ(éå»å¼)', sound:'Would'}, 
        'write':{cn:'å¯«', sound:'Right'}, 
        'writer':{cn:'ä½œè€…', sound:'Writer'},

        // --- Y ---
        'yard':{cn:'åº­é™¢', sound:'Yard'}, 
        'yellow':{cn:'é»ƒè‰²', sound:'è€¶llow'}, 
        'yes':{cn:'æ˜¯', sound:'Yes'}, 
        'yet':{cn:'é‚„', sound:'Yet'}, 
        'you':{cn:'ä½ ', sound:'You'},

        // --- Z ---
        'zoo':{cn:'å‹•ç‰©åœ’', sound:'Zoo'}
    };

    // ================= NEW: SENTENCE DATABASE (User Provided) =================
    const sentenceDB = {
        // Day 1
        "bus": "I take the school bus every morning.",
        "taxi": "My dad calls a taxi to go to the airport.",
        "train": "The train moves very fast on the tracks.",
        "ship": "The big ship sails on the deep blue sea.",
        "car": "My mom drives a red car.",
        // Day 2
        "walk": "I walk to the park with my dog.",
        "run": "I can run faster than my brother.",
        "ride": "I like to ride my bicycle on the weekend.",
        "drive": "I cannot drive, but my father can.",
        "fly": "Birds use their wings to fly.",
        // Day 3
        "plane": "Look at the plane flying in the sky!",
        "bicycle": "My bicycle has two wheels.",
        "boat": "We sat in a small boat on the lake.",
        "truck": "The big truck carries many heavy boxes.",
        "motorbike": "A motorbike is faster than a bike.",
        // Day 4
        "stop": "Please stop running in the classroom.",
        "go": "We can go to the playground now.",
        "come": "Please come here and sit down.",
        "fast": "A cheetah is very fast.",
        "slow": "A turtle is very slow.",
        // Day 5
        "left": "I write with my left hand.",
        "right": "Look to the right before you cross the street.",
        "straight": "Draw a straight line on the paper.",
        "near": "My school is near my house.",
        "far": "The moon is very far away.",
        // Day 6
        "school": "I love to learn new things at school.",
        "home": "After school, I go home to eat lunch.",
        "park": "There is a slide and a swing at the park.",
        "zoo": "We saw a lion at the zoo.",
        "hospital": "Doctors work at the hospital.",
        // Day 7
        "library": "There are many books in the library.",
        "supermarket": "Mom buys food at the supermarket.",
        "playground": "I play with my friends at the playground.",
        "beach": "I like to play in the sand at the beach.",
        "cinema": "We watched a movie at the cinema.",
        // Day 8
        "restaurant": "We ate dinner at a nice restaurant.",
        "shop": "I bought a toy at the shop.",
        "market": "We buy fresh fruit at the market.",
        "bank": "My dad went to the bank to get money.",
        "hotel": "We slept in a big hotel on our holiday.",
        // Day 9
        "classroom": "My desk is in the classroom.",
        "bedroom": "I sleep in my bedroom every night.",
        "bathroom": "I brush my teeth in the bathroom.",
        "kitchen": "Dad cooks dinner in the kitchen.",
        "garden": "There are pretty flowers in the garden.",
        // Day 10
        "door": "Please close the door gently.",
        "window": "I look out the window to see the rain.",
        "floor": "I sat on the floor to play a game.",
        "wall": "I hung a picture on the wall.",
        "roof": "The cat is sitting on the roof.",
        // Day 11
        "apple": "An apple is a red and sweet fruit.",
        "banana": "A monkey likes to eat a banana.",
        "orange": "Can I have an orange for a snack?",
        "grape": "I put a purple grape in my mouth.",
        "watermelon": "A watermelon is green on the outside and red on the inside.",
        // Day 12
        "bread": "Mom makes a sandwich with bread.",
        "rice": "I eat white rice with a spoon.",
        "noodles": "I love to eat soup with noodles.",
        "egg": "I had a fried egg for breakfast.",
        "meat": "My dog likes to eat meat.",
        // Day 13
        "chicken": "We ate fried chicken for dinner.",
        "fish": "A fish swims in the water.",
        "vegetable": "Spinach is a healthy vegetable.",
        "tomato": "A tomato is red and round.",
        "carrot": "A rabbit loves to eat a carrot.",
        // Day 14
        "milk": "I drink a glass of milk every morning.",
        "water": "Please give me a cup of water.",
        "juice": "Orange juice is very sweet.",
        "tea": "My grandma drinks hot tea.",
        "coffee": "Dad drinks coffee to wake up.",
        // Day 15
        "cake": "I had a big birthday cake.",
        "cookie": "Can I have a chocolate cookie?",
        "candy": "Do not eat too much candy.",
        "ice cream": "I like strawberry ice cream.",
        "chocolate": "Chocolate is my favorite sweet snack.",
        // Day 16
        "happy": "I feel happy when I play.",
        "sad": "I feel sad when I drop my ice cream.",
        "angry": "He was angry because his toy broke.",
        "scared": "I am scared of the dark.",
        "excited": "I am excited for my birthday party.",
        // Day 17
        "hungry": "I want lunch because I am hungry.",
        "thirsty": "I need water because I am thirsty.",
        "tired": "I am tired after running.",
        "sleepy": "I feel sleepy at night.",
        "sick": "I cannot go to school because I am sick.",
        // Day 18
        "hot": "The sun is very hot today.",
        "cold": "Ice is very cold.",
        "big": "An elephant is a big animal.",
        "small": "An ant is a small insect.",
        "tall": "The giraffe is very tall.",
        // Day 19
        "head": "I wear a hat on my head.",
        "eye": "I close one eye to wink.",
        "ear": "I use my ear to listen to music.",
        "nose": "I smell flowers with my nose.",
        "mouth": "I use my mouth to eat and talk.",
        // Day 20
        "hand": "I wave my hand to say hello.",
        "foot": "I put a sock on my foot.",
        "arm": "I have a strong arm.",
        "leg": "I hurt my leg when I fell.",
        "finger": "I wear a ring on my finger.",
        // Day 21
        "eat": "I eat breakfast at 7 o'clock.",
        "drink": "I drink water when I am hot.",
        "sleep": "I sleep in a soft bed.",
        "read": "I read a storybook every day.",
        "write": "I use a pencil to write my name.",
        // Day 22
        "play": "I want to play tag with you.",
        "sing": "We sing a song in music class.",
        "dance": "I like to dance to the music.",
        "jump": "Can you jump over the rope?",
        "swim": "I swim in the pool in summer.",
        // Day 23
        "draw": "I draw a picture of my family.",
        "paint": "I use a brush to paint the sky blue.",
        "cut": "Be careful when you cut the paper.",
        "paste": "I use glue to paste the picture.",
        "color": "Please color the apple red.",
        // Day 24
        "book": "I opened the book to read.",
        "pen": "My teacher uses a red pen.",
        "pencil": "I write my homework with a pencil.",
        "ruler": "I use a ruler to measure lines.",
        "eraser": "I use an eraser to fix my mistake.",
        // Day 25
        "bag": "I put my books in my school bag.",
        "desk": "I sit at my desk in class.",
        "chair": "I sit on a wooden chair.",
        "table": "We eat dinner at the table.",
        "board": "The teacher writes on the white board.",
        // Day 26
        "dog": "The dog barked at the mailman.",
        "cat": "The cat likes to sleep in the sun.",
        "bird": "The bird sings a sweet song.",
        "rabbit": "The rabbit has long ears.",
        "mouse": "The small mouse eats cheese.",
        // Day 27
        "lion": "The lion is the king of the jungle.",
        "tiger": "A tiger has orange and black stripes.",
        "elephant": "The elephant has a long trunk.",
        "monkey": "The monkey climbs the tree.",
        "bear": "The bear sleeps in a cave.",
        // Day 28
        "sun": "The sun is yellow and bright.",
        "moon": "The moon comes out at night.",
        "star": "I saw a twinkling star in the sky.",
        "cloud": "The white cloud looks like sheep.",
        "rain": "I use an umbrella in the rain.",
        // Day 29
        "tree": "The bird made a nest in the tree.",
        "flower": "The flower smells very good.",
        "grass": "The cows eat the green grass.",
        "river": "The water flows in the river.",
        "mountain": "We climbed to the top of the mountain.",
        // Day 30
        "red": "An apple is red.",
        "blue": "The sky is blue.",
        "green": "The leaves are green.",
        "yellow": "A lemon is yellow.",
        "white": "Snow is cold and white.",
        // Day 31
        "black": "The night sky is black.",
        "pink": "A pig is pink.",
        "purple": "I like the color purple.",
        "brown": "Chocolate is brown.",
        "gray": "An elephant is gray."
    };

        // ================= 3. STORY DATABASE (COMPLETE 31 DAYS) =================
    const articles = {
        1: {
            t: "The Blue Bird",
            txt: "One sunny morning, a little bird sat on a tree branch. The bird was bright blue with a white tummy. He was looking for his breakfast. Suddenly, he saw a small worm on the ground. The bird flew down and caught the worm. He was very happy and sang a sweet song.",
            q: [
                {q: "What color was the bird?", a: "Blue and White", o: ["Green and Red", "Yellow and Black"]},
                {q: "Where did the bird sit?", a: "On a tree branch", o: ["On a car roof", "On a house"]},
                {q: "What was the bird looking for?", a: "His breakfast", o: ["A friend", "A toy"]},
                {q: "What did the bird catch?", a: "A worm", o: ["A fly", "A spider"]},
                {q: "What did the bird do after catching the worm?", a: "He sang a song", o: ["He went to sleep", "He cried"]}
            ]
        },
        2: {
            t: "Samâ€™s Red Ball",
            txt: "Sam has a new toy. It is a big, red ball. He likes to play with it in the park. Sam kicks the ball to his dog, Max. Max runs very fast to get the ball. Max brings the ball back to Sam. They play until the sun goes down.",
            q: [
                {q: "What is Sam's new toy?", a: "A red ball", o: ["A blue kite", "A green bike"]},
                {q: "Where does Sam play?", a: "In the park", o: ["In the kitchen", "At school"]},
                {q: "Who does Sam kick the ball to?", a: "His dog, Max", o: ["His dad", "His cat"]},
                {q: "What does Max do?", a: "He runs fast to get the ball", o: ["He eats the ball", "He sleeps on the grass"]},
                {q: "When do they stop playing?", a: "When the sun goes down", o: ["When it starts raining", "When the ball breaks"]}
            ]
        },
        3: {
            t: "Baking Cookies",
            txt: "On Sunday, Mia helps her mom in the kitchen. They are making chocolate chip cookies. Mia mixes the flour, sugar, and eggs in a big bowl. Then, she adds the chocolate chips. Mom puts the cookies in the oven. The kitchen smells delicious!",
            q: [
                {q: "What day is it?", a: "Sunday", o: ["Monday", "Friday"]},
                {q: "Who is Mia helping?", a: "Her mom", o: ["Her brother", "Her teacher"]},
                {q: "What are they making?", a: "Chocolate chip cookies", o: ["Pizza", "Apple pie"]},
                {q: "What does Mia mix in the bowl?", a: "Flour, sugar, and eggs", o: ["Milk and juice", "Water and salt"]},
                {q: "Where does Mom put the cookies?", a: "In the oven", o: ["In the fridge", "On the table"]}
            ]
        },
        4: {
            t: "The Lost Tooth",
            txt: "Tom was eating an apple when he felt something strange. His loose tooth fell out! Tom was excited. He washed the tooth and put it under his pillow. He hoped the Tooth Fairy would come while he was sleeping.",
            q: [
                {q: "What was Tom eating?", a: "An apple", o: ["A banana", "A sandwich"]},
                {q: "What happened to Tom?", a: "He lost his tooth", o: ["He hurt his knee", "He lost his shoe"]},
                {q: "How did Tom feel?", a: "Excited", o: ["Sad", "Angry"]},
                {q: "Where did Tom put the tooth?", a: "Under his pillow", o: ["In the trash", "In his pocket"]},
                {q: "Who did Tom hope would come?", a: "The Tooth Fairy", o: ["Santa Claus", "The Easter Bunny"]}
            ]
        },
        5: {
            t: "The Rainy Day",
            txt: "It was raining hard outside. The sky was gray and cloudy. Lily could not go out to play. She sat by the window and watched the rain fall. She decided to draw a picture of a rainbow with her crayons.",
            q: [
                {q: "What was the weather like?", a: "Raining hard", o: ["Sunny and hot", "Snowy and cold"]},
                {q: "What color was the sky?", a: "Gray and cloudy", o: ["Blue and clear", "Pink and orange"]},
                {q: "Why did Lily stay inside?", a: "She could not go out to play", o: ["She was sick", "She was tired"]},
                {q: "Where did Lily sit?", a: "By the window", o: ["Under the bed", "In the kitchen"]},
                {q: "What did Lily draw?", a: "A rainbow", o: ["A dog", "A car"]}
            ]
        },
        6: {
            t: "The School Bus",
            txt: "Every morning, the big yellow bus stops at the corner. The driver, Mr. Jones, waves at the children. The children get on the bus one by one. They sit down and buckle their seatbelts. The bus takes them to school.",
            q: [
                {q: "What color is the bus?", a: "Yellow", o: ["Red", "Blue"]},
                {q: "What is the driver's name?", a: "Mr. Jones", o: ["Mr. Smith", "Mr. Brown"]},
                {q: "What does Mr. Jones do?", a: "He waves at the children", o: ["He honks the horn", "He eats lunch"]},
                {q: "What do the children do after sitting down?", a: "They buckle their seatbelts", o: ["They stand up", "They run around"]},
                {q: "Where does the bus take them?", a: "To school", o: ["To the zoo", "To the park"]}
            ]
        },
        7: {
            t: "A Trip to the Zoo",
            txt: "Ben went to the zoo with his class. He saw a tall giraffe eating leaves from a tree. He also saw a big elephant with a long trunk. The lions were sleeping on a rock. Benâ€™s favorite animal was the monkey because it was funny.",
            q: [
                {q: "Who did Ben go to the zoo with?", a: "His class", o: ["His family", "His neighbors"]},
                {q: "What was the giraffe eating?", a: "Leaves", o: ["Meat", "Bread"]},
                {q: "What were the lions doing?", a: "Sleeping", o: ["Running", "Roaring"]},
                {q: "Which animal had a long trunk?", a: "The elephant", o: ["The monkey", "The giraffe"]},
                {q: "What was Benâ€™s favorite animal?", a: "The monkey", o: ["The lion", "The elephant"]}
            ]
        },
        8: {
            t: "The Magic Box",
            txt: "Sarah found a dusty box in the attic. When she opened it, she found old clothes. She put on a shiny dress and a hat. Suddenly, she felt like a princess. It was a box of dress-up clothes from when her grandma was little.",
            q: [
                {q: "Where did Sarah find the box?", a: "In the attic", o: ["In the garden", "In the basement"]},
                {q: "What was inside the box?", a: "Old clothes", o: ["Toys", "Books"]},
                {q: "What did Sarah put on?", a: "A dress and a hat", o: ["A coat and boots", "A shirt and pants"]},
                {q: "How did Sarah feel?", a: "Like a princess", o: ["Like a teacher", "Like a doctor"]},
                {q: "Who did the clothes belong to?", a: "Her grandma", o: ["Her mom", "Her sister"]}
            ]
        },
        9: {
            t: "Gardening Time",
            txt: "Dad is planting flowers in the garden. He digs a hole with a shovel. He puts a seed inside the hole. He covers it with dirt. Then, he waters the seed with a hose. He tells me that soon a beautiful flower will grow.",
            q: [
                {q: "What is Dad planting?", a: "Flowers", o: ["Trees", "Vegetables"]},
                {q: "What does he use to dig a hole?", a: "A shovel", o: ["A spoon", "A fork"]},
                {q: "What does he put inside the hole?", a: "A seed", o: ["A rock", "A toy"]},
                {q: "What does he use to water the seed?", a: "A hose", o: ["A cup", "A bucket"]},
                {q: "What will grow from the seed?", a: "A flower", o: ["An apple", "A pumpkin"]}
            ]
        },
        10: {
            t: "The Sleepy Cat",
            txt: "Luna is a fat orange cat. She loves to sleep. Her favorite place is on the soft rug by the fire. Sometimes she chases a toy mouse, but mostly she naps. When she is happy, she purrs very loudly.",
            q: [
                {q: "What color is Luna?", a: "Orange", o: ["Black", "White"]},
                {q: "What does Luna love to do?", a: "Sleep", o: ["Run outside", "Swim"]},
                {q: "Where is her favorite place?", a: "On the rug by the fire", o: ["On the table", "In the box"]},
                {q: "What does she chase sometimes?", a: "A toy mouse", o: ["A real mouse", "A bird"]},
                {q: "What does she do when she is happy?", a: "She purrs", o: ["She barks", "She hisses"]}
            ]
        },
        11: {
            t: "The Library",
            txt: "I went to the library with my teacher. It was very quiet. I found a book about dinosaurs. I sat on a big beanbag chair to read. I must return the book in one week.",
            q: [
                {q: "Who did the writer go to the library with?", a: "Their teacher", o: ["Their mom", "Their brother"]},
                {q: "Is the library noisy or quiet?", a: "Very quiet", o: ["Very noisy", "Full of music"]},
                {q: "What was the book about?", a: "Dinosaurs", o: ["Cars", "Fairies"]},
                {q: "What did the writer sit on?", a: "A beanbag chair", o: ["A wooden chair", "The floor"]},
                {q: "When must the book be returned?", a: "In one week", o: ["In one day", "In one month"]}
            ]
        },
        12: {
            t: "New Shoes",
            txt: "My old shoes were too small, so I went to the shop. I chose some bright green shoes. When I run, they make a squeak sound. I ran around the store to test them. I am very happy with my new shoes.",
            q: [
                {q: "Why did the child need new shoes?", a: "The old ones were too small", o: ["The old ones were lost", "The old ones were dirty"]},
                {q: "What color shoes did the child choose?", a: "Green", o: ["Red", "Blue"]},
                {q: "What happens when the child runs?", a: "The shoes squeak", o: ["Lights flash on the side", "The laces untie"]},
                {q: "Where did the child run to test the shoes?", a: "Around the store", o: ["In the park", "At school"]},
                {q: "How does the child feel about the new shoes?", a: "Happy", o: ["Sad", "Angry"]}
            ]
        },
        13: {
            t: "A Rainy Afternoon",
            txt: "It was raining outside. The rain went tap, tap, tap on the roof. I could not play outside. I built a fort in the living room. Whiskers the cat came inside. Then, a rainbow appeared in the sky.",
            q: [
                {q: "What sound did the rain make?", a: "Tap, tap, tap", o: ["Boom, boom, boom", "Splash, splash, splash"]},
                {q: "Why couldn't the child play outside?", a: "It was raining", o: ["It was too dark", "They were sick"]},
                {q: "What did the child build?", a: "A fort", o: ["A castle", "A tower"]},
                {q: "Who came into the fort?", a: "Whiskers the cat", o: ["The dog", "The mom"]},
                {q: "What appeared in the sky when the rain stopped?", a: "A rainbow", o: ["The sun only", "A bird"]}
            ]
        },
        14: {
            t: "The Zoo Trip",
            txt: "Our class went to the zoo. We saw a tall giraffe eating leaves. The lions were sleeping in the sun. The elephant used its trunk to drink water. Before we left, I bought a magnet at the shop.",
            q: [
                {q: "Where did the class go?", a: "To the zoo", o: ["To the library", "To the beach"]},
                {q: "What was the giraffe eating?", a: "Leaves", o: ["Bananas", "Grass"]},
                {q: "What were the lions doing?", a: "Sleeping", o: ["Roaring", "Eating"]},
                {q: "Which animal used its trunk to drink water?", a: "The elephant", o: ["The monkey", "The tiger"]},
                {q: "What did the writer buy before leaving?", a: "A magnet", o: ["A hat", "A toy lion"]}
            ]
        },
        15: {
            t: "Grandmaâ€™s Garden",
            txt: "I help Grandma in her garden. She grows tomatoes and cucumbers. I like watering the plants. There are beautiful yellow flowers. Bees buzz around them. We made a salad for lunch.",
            q: [
                {q: "What vegetables grow in Grandmaâ€™s garden?", a: "Tomatoes and cucumbers", o: ["Carrots and peas", "Potatoes and corn"]},
                {q: "How does the child help Grandma?", a: "Watering the plants", o: ["Pulling weeds", "Planting seeds"]},
                {q: "What color are the flowers?", a: "Yellow", o: ["Purple", "Pink"]},
                {q: "What insect buzzes around the flowers?", a: "Bees", o: ["Flies", "Ants"]},
                {q: "What did they make with the tomatoes?", a: "A salad", o: ["Soup", "Pizza"]}
            ]
        },
        16: {
            t: "The Loose Tooth",
            txt: "I was eating an apple when my tooth moved. It wiggles when I touch it. Suddenly, it fell out! It did not hurt. I will put it under my pillow. I hope to get a coin.",
            q: [
                {q: "What happens when the child touches the tooth?", a: "It wiggles", o: ["It hurts", "It breaks"]},
                {q: "What was the child eating when the tooth fell out?", a: "An apple", o: ["A carrot", "Candy"]},
                {q: "Did it hurt when the tooth fell out?", a: "No, it did not hurt", o: ["Yes, a lot", "Just a little"]},
                {q: "Where will the child put the tooth?", a: "Under the pillow", o: ["In a cup", "In the trash"]},
                {q: "What does the child hope to get?", a: "A coin", o: ["A toy", "A book"]}
            ]
        },
        17: {
            t: "Soccer Practice",
            txt: "On Tuesday I go to soccer practice. I wear my team jersey and shin guards. Coach Mike teaches us how to kick. We played a game and I scored a goal. I felt very proud.",
            q: [
                {q: "What day is soccer practice?", a: "Tuesday", o: ["Monday", "Friday"]},
                {q: "What does the writer wear?", a: "A team jersey and shin guards", o: ["Jeans and a t-shirt", "A swimsuit"]},
                {q: "Who is the coach?", a: "Coach Mike", o: ["Coach Sam", "Coach John"]},
                {q: "What happened at the end of practice?", a: "They played a game", o: ["They went home", "It rained"]},
                {q: "How did the writer feel after scoring?", a: "Proud", o: ["Sad", "Tired"]}
            ]
        },
        18: {
            t: "The Butterfly",
            txt: "I found a caterpillar on a green leaf. It spun a cocoon and went to sleep. Later, a butterfly came out! It had orange and black wings. It flew to a pretty flower.",
            q: [
                {q: "What did the writer find on a leaf?", a: "A caterpillar", o: ["A ladybug", "A worm"]},
                {q: "What did the caterpillar spin?", a: "A cocoon", o: ["A web", "A nest"]},
                {q: "What came out of the cocoon?", a: "A butterfly", o: ["A moth", "A bee"]},
                {q: "What color were the wings?", a: "Orange and black", o: ["Blue and green", "Yellow and white"]},
                {q: "Where did the butterfly fly to?", a: "To a flower", o: ["To a tree", "To the sky"]}
            ]
        },
        19: {
            t: "Making Pizza",
            txt: "Dad bought dough to make pizza. First we put tomato sauce on it. Then I put pepperoni on my side. Dad put sausage on his side. The cheese was bubbly when it came out of the oven.",
            q: [
                {q: "What did Dad buy for the pizza?", a: "Dough", o: ["Bread", "Tortillas"]},
                {q: "What was the first thing they put on the dough?", a: "Tomato sauce", o: ["Cheese", "Pepperoni"]},
                {q: "What topping did the child put on the pizza?", a: "Pepperoni", o: ["Mushrooms", "Peppers"]},
                {q: "What topping did Dad put on his side?", a: "Sausage", o: ["Onions", "Mushrooms"]},
                {q: "How did the cheese look after baking?", a: "Bubbly", o: ["Burnt", "Hard"]}
            ]
        },
        20: {
            t: "The Camping Trip",
            txt: "We went camping in the forest. We slept in a green tent. We made a fire and roasted marshmallows. Dad told spooky stories. I slept in a warm sleeping bag.",
            q: [
                {q: "Where did the family go camping?", a: "In the forest", o: ["At the beach", "In the backyard"]},
                {q: "What color was the tent?", a: "Green", o: ["Blue", "Red"]},
                {q: "What did they roast on the fire?", a: "Marshmallows", o: ["Hot dogs", "Corn"]},
                {q: "What did they do before bed?", a: "Told spooky stories", o: ["Played cards", "Sang songs"]},
                {q: "Where did the writer sleep?", a: "In a sleeping bag", o: ["On a cot", "On the grass"]}
            ]
        },
        21: {
            t: "The Beach Day",
            txt: "We went to the beach today. I built a big sandcastle. I used my green bucket. I found a shell that looked like a fan. The water was cold but fun.",
            q: [
                {q: "Where did the family go?", a: "To the beach", o: ["To the park", "To the pool"]},
                {q: "What did the writer build?", a: "A sandcastle", o: ["A snowman", "A house"]},
                {q: "What color was the bucket?", a: "Green", o: ["Red", "Yellow"]},
                {q: "What kind of shell did the writer find?", a: "A shell that looked like a fan", o: ["A spiral shell", "A star shell"]},
                {q: "How did the water feel?", a: "Cold", o: ["Hot", "Warm"]}
            ]
        },
        22: {
            t: "My Baby Sister",
            txt: "My baby sister is named Lily. She sleeps in a crib. When she is hungry, she cries. I make funny faces and she smiles. She is small and has no teeth yet.",
            q: [
                {q: "What is the baby sisterâ€™s name?", a: "Lily", o: ["Mia", "Rose"]},
                {q: "Where does Lily sleep?", a: "In a crib", o: ["In a big bed", "In a stroller"]},
                {q: "Why does Lily cry?", a: "She is hungry", o: ["She is cold", "She is bored"]},
                {q: "How does the writer make Lily smile?", a: "By making funny faces", o: ["By singing", "By dancing"]},
                {q: "Does Lily have any teeth?", a: "No, none yet", o: ["Yes, two", "Yes, many"]}
            ]
        },
        23: {
            t: "The Birthday Party",
            txt: "It was Ben's birthday party. We had blue and red balloons. We played musical chairs together. We ate chocolate cake. Ben had seven candles on his cake.",
            q: [
                {q: "Whose birthday is it?", a: "Ben's", o: ["The writer's", "Tom's"]},
                {q: "What colors were the balloons?", a: "Blue and red", o: ["Pink and purple", "Green and yellow"]},
                {q: "What game did they play?", a: "Musical chairs", o: ["Tag", "Hide and seek"]},
                {q: "What kind of cake did they eat?", a: "Chocolate", o: ["Vanilla", "Strawberry"]},
                {q: "How many candles were on the cake?", a: "Seven", o: ["Five", "Six"]}
            ]
        },
        24: {
            t: "Washing the Car",
            txt: "Dad's car was covered in dust and mud. We used a sponge to wash it. I cleaned the wheels. I sprayed Dad with the hose by mistake! Now the car is shiny and clean.",
            q: [
                {q: "Why did the car need washing?", a: "It was covered in dust and mud", o: ["It was new", "It had scratches"]},
                {q: "What did they use to wash the car?", a: "A sponge", o: ["A brush", "A towel"]},
                {q: "Which part of the car did the child clean?", a: "The wheels", o: ["The windows", "The roof"]},
                {q: "What happened with the hose?", a: "The child sprayed Dad", o: ["It broke", "No water came out"]},
                {q: "How does the car look now?", a: "Shiny and clean", o: ["Still dirty", "Wet"]}
            ]
        },
        25: {
            t: "The Thunderstorm",
            txt: "There was a storm last night. The thunder went Boom! I was scared. I pulled my blanket over my head. Mom came in and read me a story until I slept.",
            q: [
                {q: "What made the loud 'Boom' sound?", a: "Thunder", o: ["A drum", "A car"]},
                {q: "What did the child pull over their head?", a: "A blanket", o: ["A pillow", "A coat"]},
                {q: "How did the child feel about the storm?", a: "Scared", o: ["Happy", "Excited"]},
                {q: "Who came into the room to help?", a: "Mom", o: ["Dad", "Grandma"]},
                {q: "What did Mom do?", a: "Read a story", o: ["Sang a song", "Closed the window"]}
            ]
        },
        26: {
            t: "Learning to Ride",
            txt: "I have a new blue bicycle. Dad took off the training wheels. I was scared I would fall. Dad told me to keep pedaling. I did it! I can ride alone now.",
            q: [
                {q: "What color is the new bicycle?", a: "Blue", o: ["Red", "Black"]},
                {q: "What did Dad take off the bike?", a: "The training wheels", o: ["The basket", "The bell"]},
                {q: "How did the writer feel at first?", a: "Scared", o: ["Brave", "Bored"]},
                {q: "What did Dad tell the writer to do?", a: "Keep pedaling", o: ["Stop", "Turn left"]},
                {q: "Did the writer learn to ride alone?", a: "Yes", o: ["No", "Almost"]}
            ]
        },
        27: {
            t: "Picking Apples",
            txt: "It is Autumn. We went to a farm to pick apples. I climbed a ladder to reach the high ones. We filled a big basket. Mom says we will make apple pie.",
            q: [
                {q: "What season is it in the story?", a: "Autumn", o: ["Summer", "Winter"]},
                {q: "Where did they go?", a: "To a farm", o: ["To a store", "To a park"]},
                {q: "Why did the child climb a ladder?", a: "To reach high apples", o: ["To see better", "To hide"]},
                {q: "What did they fill with apples?", a: "A basket", o: ["A bag", "A box"]},
                {q: "What will they make with the apples?", a: "Apple pie", o: ["Juice", "Jam"]}
            ]
        },
        28: {
            t: "The Scary Movie",
            txt: "We watched a movie about monsters. We ate popcorn. The monster had three eyes! He slipped on a banana peel and fell. It was funny, not scary.",
            q: [
                {q: "What was the movie about?", a: "Monsters", o: ["Aliens", "Animals"]},
                {q: "What snack did they make?", a: "Popcorn", o: ["Chips", "Candy"]},
                {q: "How many eyes did the monster have?", a: "Three", o: ["Two", "Four"]},
                {q: "Why did the monster fall down?", a: "He slipped on a banana peel", o: ["He tripped on a rock", "He was pushed"]},
                {q: "Did the writer find the movie scary in the end?", a: "No", o: ["Yes", "A little bit"]}
            ]
        },
        29: {
            t: "Art Class",
            txt: "In art class we used watercolors. I wanted to paint a sunset. I used orange and red. I got paint on my nose by mistake. The teacher gave me a towel to clean it.",
            q: [
                {q: "What kind of paint did they use?", a: "Watercolors", o: ["Oil paint", "Finger paint"]},
                {q: "What did the writer want to paint?", a: "A sunset", o: ["A flower", "A house"]},
                {q: "Name one color the writer used.", a: "Orange", o: ["Purple", "Green"]},
                {q: "Where did the writer get paint by accident?", a: "On their nose", o: ["On their shirt", "On their hands"]},
                {q: "Who gave the writer a towel?", a: "The teacher", o: ["A friend", "Mom"]}
            ]
        },
        30: {
            t: "The Squirrel",
            txt: "I sat on a park bench eating a nut bar. A squirrel came near. It had a big bushy tail. It twitched its nose at me. Then it ran under a bush to find food.",
            q: [
                {q: "Where was the writer sitting?", a: "On a park bench", o: ["On the grass", "In a car"]},
                {q: "What was the writer eating?", a: "A nut bar", o: ["An apple", "A sandwich"]},
                {q: "What kind of tail did the squirrel have?", a: "Bushy", o: ["Short", "Long and thin"]},
                {q: "What did the squirrel do with its nose?", a: "It twitched it", o: ["It scratched it", "It hid it"]},
                {q: "Where did the squirrel go to eat the food?", a: "Under a bush", o: ["Up a tree", "Behind the bench"]}
            ]
        },
        31: {
            t: "The School Concert",
            txt: "It was the last day of school. We had a concert. I played the drum. Sarah played the flute. My parents sat in the front row. I felt proud and happy.",
            q: [
                {q: "What special event happened on the last day of school?", a: "A concert", o: ["A sports day", "A party"]},
                {q: "What instrument did the writer play?", a: "The drum", o: ["The flute", "The piano"]},
                {q: "What did Sarah play?", a: "The flute", o: ["The drum", "The violin"]},
                {q: "Where did the parents sit?", a: "In the front row", o: ["In the back", "On the stage"]},
                {q: "How did the writer feel at the end?", a: "Proud and happy", o: ["Nervous", "Tired"]}
            ]
        }
    };

    // ================= 3. MASSIVE GRAMMAR DATABASE (All Questions) =================
    const grammarPool = {
        ving: [
            {q: "I ___________ (read) a book now.", a: "am reading"}, {q: "She ___________ (sit) on the chair now.", a: "is sitting"},
            {q: "They ___________ (play) football right now.", a: "are playing"}, {q: "He ___________ (run) in the park now.", a: "is running"},
            {q: "The bird ___________ (fly) in the sky.", a: "is flying"}, {q: "We ___________ (eat) lunch now.", a: "are eating"},
            {q: "My mother ___________ (cook) dinner at the moment.", a: "is cooking"}, {q: "Listen! The baby ___________ (cry).", a: "is crying"},
            {q: "I ___________ (write) my name now.", a: "am writing"}, {q: "The dog ___________ (sleep) on the floor now.", a: "is sleeping"},
            {q: "My brother ___________ (watch) TV right now.", a: "is watching"}, {q: "Look! The bus ___________ (come).", a: "is coming"},
            {q: "They ___________ (dance) to the music now.", a: "are dancing"}, {q: "She ___________ (drink) milk now.", a: "is drinking"},
            {q: "It ___________ (rain) outside now.", a: "is raining"}, {q: "The boys ___________ (swim) in the pool now.", a: "are swimming"},
            {q: "I ___________ (draw) a picture at the moment.", a: "am drawing"}, {q: "Look! The cat ___________ (climb) the tree.", a: "is climbing"},
            {q: "We ___________ (sing) a song now.", a: "are singing"}, {q: "He ___________ (ride) his bike right now.", a: "is riding"},
            {q: "My dad ___________ (wash) the car now.", a: "is washing"}, {q: "The students ___________ (study) English now.", a: "are studying"},
            {q: "I ___________ (listen) to the teacher now.", a: "am listening"}, {q: "She ___________ (wear) a red dress today.", a: "is wearing"},
            {q: "They ___________ (walk) to school now.", a: "are walking"}, {q: "Look! The monkey ___________ (jump).", a: "is jumping"},
            {q: "My sister ___________ (brush) her hair now.", a: "is brushing"}, {q: "We ___________ (make) a cake now.", a: "are making"},
            {q: "The teacher ___________ (talk) right now.", a: "is talking"}, {q: "I ___________ (do) my homework now.", a: "am doing"},
            {q: "He ___________ (open) the door now.", a: "is opening"}, {q: "The girl ___________ (smile) at me now.", a: "is smiling"},
            {q: "They ___________ (clean) the classroom now.", a: "are cleaning"}, {q: "Look! The plane ___________ (go) up.", a: "is going"},
            {q: "My friends ___________ (wait) for the bus.", a: "are waiting"}, {q: "The baby ___________ (laugh) now.", a: "is laughing"},
            {q: "I ___________ (help) my mom now.", a: "am helping"}, {q: "She ___________ (buy) an apple now.", a: "is buying"},
            {q: "We ___________ (look) at the stars now.", a: "are looking"}, {q: "He ___________ (drive) a car right now.", a: "is driving"},
            {q: "The ducks ___________ (swim) in the pond.", a: "are swimming"}, {q: "Look! It ___________ (snow).", a: "is snowing"},
            {q: "My grandma ___________ (knit) a sweater now.", a: "is knitting"}, {q: "I ___________ (stand) up now.", a: "am standing"},
            {q: "They ___________ (cut) the paper now.", a: "are cutting"}, {q: "The phone ___________ (ring) right now.", a: "is ringing"},
            {q: "She ___________ (skip) rope now.", a: "is skipping"}, {q: "We ___________ (learn) math now.", a: "are learning"},
            {q: "The cat ___________ (chase) a mouse now.", a: "is chasing"}, {q: "I ___________ (use) the computer now.", a: "am using"}
        ],
        toInf: [
            {q: "I want ___________ (go) home.", a: "to go"}, {q: "She likes ___________ (play) with dolls.", a: "to play"},
            {q: "We need ___________ (drink) some water.", a: "to drink"}, {q: "He hopes ___________ (see) a movie.", a: "to see"},
            {q: "Do you want ___________ (eat) pizza?", a: "to eat"}, {q: "They love ___________ (read) storybooks.", a: "to read"},
            {q: "My mom wants ___________ (cook) soup.", a: "to cook"}, {q: "I try ___________ (study) hard.", a: "to study"},
            {q: "My brother likes ___________ (run) fast.", a: "to run"}, {q: "We decided ___________ (visit) Grandma.", a: "to visit"},
            {q: "She needs ___________ (sleep) early.", a: "to sleep"}, {q: "I want ___________ (buy) a new toy.", a: "to buy"},
            {q: "He likes ___________ (draw) animals.", a: "to draw"}, {q: "They want ___________ (watch) TV.", a: "to watch"},
            {q: "Do you like ___________ (sing)?", a: "to sing"}, {q: "The baby wants ___________ (cry).", a: "to cry"},
            {q: "I hope ___________ (get) a gift.", a: "to get"}, {q: "She loves ___________ (dance).", a: "to dance"},
            {q: "We need ___________ (wash) our hands.", a: "to wash"}, {q: "He wants ___________ (be) a doctor.", a: "to be"},
            {q: "My dog likes ___________ (jump).", a: "to jump"}, {q: "They plan ___________ (go) to the park.", a: "to go"},
            {q: "I want ___________ (help) you.", a: "to help"}, {q: "She starts ___________ (write) her name.", a: "to write"},
            {q: "Do you want ___________ (come) with me?", a: "to come"}, {q: "He needs ___________ (wear) a coat.", a: "to wear"},
            {q: "We like ___________ (swim) in summer.", a: "to swim"}, {q: "I want ___________ (ask) a question.", a: "to ask"},
            {q: "She hopes ___________ (win) the game.", a: "to win"}, {q: "They love ___________ (play) football.", a: "to play"},
            {q: "I need ___________ (do) my homework.", a: "to do"}, {q: "My dad likes ___________ (drive).", a: "to drive"},
            {q: "He wants ___________ (climb) the tree.", a: "to climb"}, {q: "We try ___________ (listen) carefully.", a: "to listen"},
            {q: "She likes ___________ (ride) her bike.", a: "to ride"}, {q: "I want ___________ (give) you this.", a: "to give"},
            {q: "They need ___________ (clean) the room.", a: "to clean"}, {q: "Look, he wants ___________ (stop).", a: "to stop"},
            {q: "I love ___________ (eat) ice cream.", a: "to eat"}, {q: "Do you like ___________ (walk) to school?", a: "to walk"},
            {q: "She wants ___________ (open) the box.", a: "to open"}, {q: "We need ___________ (find) the key.", a: "to find"},
            {q: "He hopes ___________ (pass) the test.", a: "to pass"}, {q: "I want ___________ (tell) a story.", a: "to tell"},
            {q: "My cat likes ___________ (sleep).", a: "to sleep"}, {q: "They try ___________ (catch) the ball.", a: "to catch"},
            {q: "She needs ___________ (brush) her teeth.", a: "to brush"}, {q: "I want ___________ (sit) down.", a: "to sit"},
            {q: "He likes ___________ (make) robots.", a: "to make"}, {q: "We want ___________ (fly) a kite.", a: "to fly"}
        ],
        past: [
            {q: "I ___________ (walk) to the park yesterday.", a: "walked"}, {q: "She ___________ (play) football yesterday.", a: "played"},
            {q: "They ___________ (watch) TV last night.", a: "watched"}, {q: "We ___________ (cook) dinner yesterday.", a: "cooked"},
            {q: "He ___________ (wash) his face this morning.", a: "washed"}, {q: "I ___________ (listen) to music yesterday.", a: "listened"},
            {q: "My mom ___________ (clean) the house last week.", a: "cleaned"}, {q: "The dog ___________ (bark) last night.", a: "barked"},
            {q: "It ___________ (rain) yesterday.", a: "rained"}, {q: "We ___________ (visit) the zoo last Sunday.", a: "visited"},
            {q: "She ___________ (dance) at the party last night.", a: "danced"}, {q: "He ___________ (paint) a picture yesterday.", a: "painted"},
            {q: "I ___________ (finish) my homework last night.", a: "finished"}, {q: "They ___________ (climb) the hill yesterday.", a: "climbed"},
            {q: "The baby ___________ (cry) last night.", a: "cried"}, {q: "I ___________ (go) to school yesterday.", a: "went"},
            {q: "She ___________ (eat) an apple yesterday.", a: "ate"}, {q: "We ___________ (see) a bird yesterday.", a: "saw"},
            {q: "He ___________ (buy) a new bag last week.", a: "bought"}, {q: "They ___________ (swim) in the pool last Sunday.", a: "swam"},
            {q: "I ___________ (have) a good time yesterday.", a: "had"}, {q: "My dad ___________ (drive) the car yesterday.", a: "drove"},
            {q: "The bird ___________ (fly) away yesterday.", a: "flew"}, {q: "She ___________ (draw) a picture last night.", a: "drew"},
            {q: "We ___________ (drink) orange juice yesterday.", a: "drank"}, {q: "He ___________ (run) very fast yesterday.", a: "ran"},
            {q: "I ___________ (sleep) late last night.", a: "slept"}, {q: "They ___________ (sit) on the grass yesterday.", a: "sat"},
            {q: "She ___________ (write) a letter last week.", a: "wrote"}, {q: "We ___________ (sing) a song yesterday.", a: "sang"},
            {q: "I ___________ (make) a card yesterday.", a: "made"}, {q: "He ___________ (read) a book last night.", a: "read"},
            {q: "She ___________ (come) to my house yesterday.", a: "came"}, {q: "They ___________ (give) me a gift yesterday.", a: "gave"},
            {q: "I ___________ (take) a photo last Sunday.", a: "took"}, {q: "We ___________ (stand) in line yesterday.", a: "stood"},
            {q: "He ___________ (do) his homework yesterday.", a: "did"}, {q: "The cat ___________ (catch) a mouse last night.", a: "caught"},
            {q: "I ___________ (ride) my bike yesterday.", a: "rode"}, {q: "She ___________ (wear) a blue coat yesterday.", a: "wore"},
            {q: "We ___________ (find) a ball in the park yesterday.", a: "found"}, {q: "He ___________ (say) hello to me yesterday.", a: "said"},
            {q: "They ___________ (meet) their teacher last week.", a: "met"}, {q: "I ___________ (get) up early yesterday.", a: "got"},
            {q: "She ___________ (teach) me English last year.", a: "taught"}, {q: "I ___________ (know) the answer yesterday.", a: "knew"},
            {q: "We ___________ (fly) to Japan last year.", a: "flew"}, {q: "He ___________ (bring) his lunch yesterday.", a: "brought"},
            {q: "I ___________ (forget) my pencil yesterday.", a: "forgot"}, {q: "They ___________ (win) the game yesterday.", a: "won"}
        ]
    };

    // ================= 4. APPLICATION LOGIC =================
    let currentDay = parseInt(localStorage.getItem('p2_day')) || 1;
    let dictQueue = JSON.parse(localStorage.getItem('p2_queue')) || [];
    
    // NEW: Word Bank Storage
    let wordBank = JSON.parse(localStorage.getItem('p2_wordbank')) || [];

    let isGameSolved = false;
    let currentDictTarget = "";
    let grammarQuestions = {}; 
    let missionStatus = { learn: false, read: false, game: false, grammar: false };

    window.onload = function() {
        initDaySelect();
        updateBankUI(); // Update count on load
        
        // If queue is empty (new session), generate it
        if(dictQueue.length === 0) setupDictationQueue();
        
        generateGrammarQuestions(); 
        loadDay(currentDay);
        updateDictUI();
    };

    function initDaySelect() {
        const s = document.getElementById('daySelect');
        s.innerHTML = '';
        for(let i=1; i<=31; i++) {
            let opt = document.createElement('option');
            opt.value = i;
            opt.text = `Day ${i}`;
            if(i === currentDay) opt.selected = true;
            s.appendChild(opt);
        }
    }

    function changeDay() {
        currentDay = parseInt(document.getElementById('daySelect').value);
        localStorage.setItem('p2_day', currentDay);
        
        // Reset Mission
        missionStatus = { learn: false, read: false, game: false, grammar: false };
        isGameSolved = false;
        
        // REFRESH GRAMMAR (This fixes the "Not Changing" issue)
        generateGrammarQuestions(); 
        
        // REFRESH DICTATION QUEUE (Daily 5 + 3 Random Stored)
        setupDictationQueue();

        loadDay(currentDay);
        nav('learn');
    }

    // --- NEW: Dictionary/Storage Logic ---
    function setupDictationQueue() {
        // 1. Get today's 5 words
        let queue = [...(dailyWords[currentDay-1] || [])];
        
        // 2. Randomly pick 3 words from Word Bank (Storage)
        if(wordBank.length > 0) {
            let shuffledBank = [...wordBank].sort(() => 0.5 - Math.random());
            let picked = shuffledBank.slice(0, 3);
            queue = queue.concat(picked);
        }
        
        // 3. Shuffle the final mix
        queue.sort(() => 0.5 - Math.random());
        
        dictQueue = queue;
        localStorage.setItem('p2_queue', JSON.stringify(dictQueue));
        updateDictUI();
    }

    function addToBank(word) {
        word = word.toLowerCase().trim();
        if(!word) return "Empty word";
        if(!dictionary[word] && !confirm("This word is not in the dictionary. Add anyway?")) return "Cancelled";
        
        if(!wordBank.includes(word)) {
            wordBank.push(word);
            localStorage.setItem('p2_wordbank', JSON.stringify(wordBank));
            updateBankUI();
            return "Added successfully!";
        } else {
            return "Word already in storage.";
        }
    }

    function manualAddToBank() {
        const inp = document.getElementById('parentInput');
        const msg = document.getElementById('bankMsg');
        const res = addToBank(inp.value);
        msg.innerText = res;
        if(res.includes("Success")) inp.value = '';
        setTimeout(() => msg.innerText = '', 2000);
    }

    function addToBankFromModal() {
        const w = document.getElementById('mWord').innerText;
        const msg = document.getElementById('mMsg');
        const res = addToBank(w);
        msg.innerText = res;
    }

    function updateBankUI() {
        const el = document.getElementById('bankCount');
        if(el) el.innerText = wordBank.length;
    }

    // --- Navigation ---
    // --- UPDATED NAVIGATION LOGIC (Pop-up Progress) ---
    function nav(id) {
        // If the user clicks "Test" (dictation)
        if (id === 'dictation') {
            // Check if ANY task is incomplete
            if (!missionStatus.learn || !missionStatus.read || !missionStatus.game || !missionStatus.grammar) {
                showProgressModal(); // Show the new Pop-up
                return; // Stop here
            }
            // If all done, update UI and allow entry
            updateDictUI();
        }

        // --- MARK TASKS AS DONE ---
        if (id === 'learn') missionStatus.learn = true;
        if (id === 'story') missionStatus.read = true;

        // --- STANDARD TAB SWITCHING ---
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        
        const map = {'learn':0, 'story':1, 'game':2, 'grammar':3, 'dictation':4};
        const btns = document.querySelectorAll('.nav-btn');
        if(btns[map[id]]) btns[map[id]].classList.add('active');
        
        if(id === 'game') initGame();
        if(id === 'grammar') renderGrammarSection();
    }

    // --- NEW: PROGRESS MODAL FUNCTIONS ---
    function showProgressModal() {
        const list = document.getElementById('taskList');
        list.innerHTML = ''; // Clear old list

        const tasks = [
            { id: 'learn', label: '1. Learn Words (å­¸ç¿’)', done: missionStatus.learn },
            { id: 'story', label: '2. Read Story (é–±è®€)', done: missionStatus.read },
            { id: 'game',  label: '3. Play Game (éŠæˆ²)',  done: missionStatus.game },
            { id: 'grammar', label: '4. Grammar (æ–‡æ³•)', done: missionStatus.grammar }
        ];

        let allDone = true;

        tasks.forEach(t => {
            if (!t.done) {
                allDone = false;
                // Only show tasks that are NOT done
                list.innerHTML += `
                    <div style="padding:10px; border-bottom:1px solid #444; color:#ff6b6b; font-size:1.1rem;">
                        â¬œ ${t.label} 
                    </div>`;
            } else {
                // Optional: You can choose to hide completed tasks entirely, 
                // or show them with a checkmark. 
                // Currently, I am hiding them so the user focuses on what is LEFT.
            }
        });

        document.getElementById('progressModal').style.display = 'flex';
    }

    function closeProgressModal() {
        document.getElementById('progressModal').style.display = 'none';
    }


    function checkPuzzle(target) {
        const container = document.getElementById('gameZone');
        const currentArr = Array.from(container.children).map(div => div.innerText);
        const currentStr = currentArr.join(' ');
        const msg = document.getElementById('gameMsg');
        
        if(currentStr === target) {
            msg.innerText = "ğŸŒŸ Correct! ğŸŒŸ";
            msg.style.color = "var(--success)";
            speak(target);
            
            // Mark Game Mission as Done
            missionStatus.game = true; 
            isGameSolved = true;

            const pieces = document.querySelectorAll('.puzzle-piece');
            pieces.forEach(p => {
                p.style.backgroundColor = "var(--success)";
                p.onclick = null;
                p.style.cursor = "default";
            });
        }
    }

    // ================= UPDATED GRAMMAR LOGIC (Strict Rules) =================
    
    // 1. Define Rule Lists for Hints
    const rules = {
        dropE: ['write', 'come', 'dance', 'ride', 'make', 'smile', 'chase', 'drive', 'use'],
        doubleCVC: ['sit', 'run', 'swim', 'cut', 'skip'],
        // Past Tense Categories
        totalChange: ['go', 'do'],
        spellingChange: ['eat'],
        vowelChange: ['see'],
        ought: ['buy', 'bring', 'fight', 'think'],
        aught: ['catch', 'teach'],
        i_to_a: ['swim', 'drink', 'sing', 'sit', 'give'],
        ve_to_d: ['have'],
        i_to_o: ['drive', 'write', 'ride'],
        y_to_ew: ['fly'],
        aw_to_ew: ['draw'],
        ow_to_ew: ['know'],
        u_to_a: ['run'],
        eep_to_ept: ['sleep'],
        k_to_d: ['make'],
        special_read: ['read'],
        o_to_a: ['come'],
        ake_to_ook: ['take'],
        and_to_ood: ['stand'],
        ear_to_ore: ['wear'],
        ind_to_ound: ['find'],
        ay_to_aid: ['say'],
        ee_to_e: ['meet'],
        e_to_o: ['get'],
        get_to_got: ['forget'],
        in_to_on: ['win']
    };

    // 2. The Smart Hint Function
    function getGrammarHint(type, baseVerb) {
        if (!baseVerb) return "";
        let base = baseVerb.toLowerCase().trim();

        // --- Present Continuous (V-ing) ---
        if (type === 'ving') {
            if (rules.dropE.includes(base)) return "Rule: Drop 'e' + ing (åˆªå» 'e' åŠ  ing)";
            if (rules.doubleCVC.includes(base)) return "Rule: Double letter + ing (é‡è¦†å°¾éŸ³ + ing)";
            return "Rule: Just add 'ing' (ç›´æ¥åŠ  ing)";
        }

        // --- Past Tense ---
        if (type === 'past') {
            // Check specific irregular lists
            if (rules.totalChange.includes(base)) return "Rule: Total change (å®Œå…¨æ”¹è®Š)";
            if (rules.spellingChange.includes(base)) return "Rule: Spelling change (æ‹¼å¯«æ”¹è®Š)";
            if (rules.vowelChange.includes(base)) return "Rule: Vowel change (å…ƒéŸ³æ”¹è®Š)";
            if (rules.ought.includes(base)) return "Rule: Change to -ought (è®Šæˆ -ought)";
            if (rules.aught.includes(base)) return "Rule: Change to -aught (è®Šæˆ -aught)";
            if (rules.i_to_a.includes(base)) return "Rule: Change 'i' to 'a' (i è®Š a)";
            if (rules.ve_to_d.includes(base)) return "Rule: Change 've' to 'd' (ve è®Š d)";
            if (rules.i_to_o.includes(base)) return "Rule: Change 'i' to 'o' (i è®Š o)";
            if (rules.y_to_ew.includes(base)) return "Rule: Change 'y' to 'ew' (y è®Š ew)";
            if (rules.aw_to_ew.includes(base)) return "Rule: Change 'aw' to 'ew' (aw è®Š ew)";
            if (rules.ow_to_ew.includes(base)) return "Rule: Change 'ow' to 'ew' (ow è®Š ew)";
            if (rules.u_to_a.includes(base)) return "Rule: Change 'u' to 'a' (u è®Š a)";
            if (rules.eep_to_ept.includes(base)) return "Rule: Change 'eep' to 'ept' (eep è®Š ept)";
            if (rules.k_to_d.includes(base)) return "Rule: Change 'k' to 'd' (k è®Š d)";
            if (rules.special_read.includes(base)) return "Rule: Same spelling (æ‹¼å¯«ä¸è®Š)";
            if (rules.o_to_a.includes(base)) return "Rule: Change 'o' to 'a' (o è®Š a)";
            if (rules.ake_to_ook.includes(base)) return "Rule: Change 'ake' to 'ook' (ake è®Š ook)";
            if (rules.and_to_ood.includes(base)) return "Rule: Change 'and' to 'ood' (and è®Š ood)";
            if (rules.ear_to_ore.includes(base)) return "Rule: Change 'ear' to 'ore' (ear è®Š ore)";
            if (rules.ind_to_ound.includes(base)) return "Rule: Change 'ind' to 'ound' (ind è®Š ound)";
            if (rules.ay_to_aid.includes(base)) return "Rule: Change 'ay' to 'aid' (ay è®Š aid)";
            if (rules.ee_to_e.includes(base)) return "Rule: Change 'ee' to 'e' (ee è®Š e)";
            if (rules.e_to_o.includes(base)) return "Rule: Change 'e' to 'o' (e è®Š o)";
            if (rules.get_to_got.includes(base)) return "Rule: Change 'get' to 'got' (get è®Š got)";
            if (rules.in_to_on.includes(base)) return "Rule: Change 'in' to 'on' (in è®Š on)";

            // Regular Rules
            if (base.endsWith('y') && !['a','e','i','o','u'].includes(base[base.length-2])) return "Rule: y â†’ ied";
            return "Rule: Just add -ed (ç›´æ¥åŠ  -ed)";
        }

        // --- To-Infinitive ---
        if (type === 'toInf') {
            return "Rule: to + Base Form (to + åŸå½¢)";
        }

        return "";
    }

    function generateGrammarQuestions() {
        // Clear previous answers/status to avoid "nothing changes"
        ['quizVing', 'quizInf', 'quizPast'].forEach(id => {
            const el = document.getElementById(id);
            if(el) el.innerHTML = ''; 
        });

        // Get 5 random from each strict pool
        const get5 = (arr) => [...arr].sort(() => 0.5 - Math.random()).slice(0, 5);
        grammarQuestions = {
            v: get5(grammarPool.ving),
            t: get5(grammarPool.toInf),
            p: get5(grammarPool.past)
        };
        
        document.getElementById('grammarFinalMsg').innerText = '';
    }

    function renderGrammarSection() {
        const renderList = (id, list, type) => {
            const div = document.getElementById(id);
            if(div.innerHTML !== "") return; 

            list.forEach((item, idx) => {
                const match = item.q.match(/\((.*?)\)/);
                const baseVerb = match ? match[1] : "";
                const specificHint = getGrammarHint(type, baseVerb);
                
                // Split logic: Handles "____" or "___________"
                const parts = item.q.split(/_+/); 
                const part1 = parts[0] || "";
                const part2 = parts[1] || ""; 

                const hintId = `hint-${type}-${idx}`;

                div.innerHTML += `
                    <div class="g-q-row">
                        <div class="g-q-text">
                            <span style="margin-right:5px;">${idx+1}. ${part1}</span>
                            <input type="text" class="g-input" data-ans="${item.a}" placeholder="Answer" autocomplete="off">
                            <span style="margin-left:5px;">${part2}</span>
                            <span class="g-feedback"></span>
                        </div>
                        <div style="margin-top:8px;">
                            <button class="hint-btn" onclick="document.getElementById('${hintId}').style.display='block'">ğŸ’¡ æç¤º (Hint)</button>
                        </div>
                        <div id="${hintId}" class="g-meta">
                            <span class="g-clue">ğŸ’¡ ${specificHint}</span>
                        </div>
                    </div>
                `;
            });
        };
        
        renderList('quizVing', grammarQuestions.v, 'ving');
        renderList('quizInf', grammarQuestions.t, 'toInf');
        renderList('quizPast', grammarQuestions.p, 'past');
    }

    function checkGrammarAll() {
        const inputs = document.querySelectorAll('.g-input');
        let allCorrect = true;
        let count = 0;
        
        inputs.forEach(input => {
            const userAns = input.value.trim().toLowerCase(); // Remove extra spaces
            const correctAns = input.getAttribute('data-ans').toLowerCase();
            const fb = input.parentNode.querySelector('.g-feedback');

            if(userAns === correctAns) {
                input.style.border = "2px solid var(--success)";
                input.style.background = "#f0fff4";
                fb.innerHTML = "âœ…";
                fb.style.color = "var(--success)";
            } else {
                input.style.border = "2px solid var(--error)";
                input.style.background = "#fff5f5";
                fb.innerHTML = `âŒ <span style="font-size:0.8rem; color:#aaa;">(Ans: ${correctAns})</span>`; 
                fb.style.color = "var(--error)";
                allCorrect = false;
            }
            if(userAns !== "") count++;
        });

        const msg = document.getElementById('grammarFinalMsg');
        if(allCorrect && count === 15) {
            msg.innerHTML = "<span style='color:var(--success)'>ğŸ‰ Amazing! Grammar Master! ğŸ‰</span>";
            speak("Excellent job!");
            missionStatus.grammar = true; 
        } else {
            msg.innerHTML = "<span style='color:#e53e3e'>Check the answers in brackets! (çœ‹æ‹¬è™Ÿå…§çš„æ­£ç¢ºç­”æ¡ˆ)</span>";
            speak("Try again");
        }
    }

    // --- Standard Helper Functions ---
    function speak(txt) {
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(txt);
        u.lang = 'en-US'; u.rate = 0.8;
        window.speechSynthesis.speak(u);
    }

    function makeClickable(txt) {
        return txt.split(' ').map(w => {
            const clean = w.replace(/[^a-zA-Z]/g, '');
            if (!clean) return w;
            return `<span class="click-word" onclick="wordClick('${clean}'); event.stopPropagation();">${w}</span>`;
        }).join(' ');
    }

    function loadDay(d) {
        const grid = document.getElementById('wordGrid');
        grid.innerHTML = '';
        const dayWords = dailyWords[d-1] || [];
        
        dayWords.forEach(en => {
            const lowerEn = en.toLowerCase();
            const info = dictionary[lowerEn] || {cn:'Search', sound:''};
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="en-text">${en}</div>
                <div class="cn-text">${info.cn}</div>
                <div class="mnemonic">${info.sound || ""}</div>
                <button class="audio-btn" onclick="speak('${en}')">ğŸ”Š</button>
                <div class="sentence">I like the ${en}.</div>
            `;
            grid.appendChild(card);
        });

        const art = articles[d] || {t:'No Story', txt:'No text.', q:[]};
        document.getElementById('storyTitle').innerText = art.t;
        document.getElementById('storyContent').innerHTML = makeClickable(art.txt);

        const qArea = document.getElementById('quizArea');
        qArea.innerHTML = '';
        art.q.forEach((item, idx) => {
            const box = document.createElement('div');
            box.className = 'quiz-box';
            let opts = [item.a, ...item.o].sort(() => Math.random() - 0.5);
            let btnHtml = opts.map(o => `<button class="quiz-opt" onclick="checkQuiz(this, '${o===item.a}')">${makeClickable(o)}</button>`).join('');
            box.innerHTML = `<p style="font-weight:bold; color:var(--primary)">Q${idx+1}: ${makeClickable(item.q)}</p>${btnHtml}`;
            qArea.appendChild(box);
        });
    }

    function wordClick(w) {
        w = w.toLowerCase().trim();
        let info = dictionary[w];
        if (!info && w.endsWith('s')) { info = dictionary[w.slice(0, -1)]; w = w.slice(0, -1); }
        
        document.getElementById('mWord').innerText = w;
        document.getElementById('mMsg').innerText = ""; // Clear msg
        
        if (info) {
            document.getElementById('mCn').innerText = info.cn;
            document.getElementById('mSound').innerText = info.sound || "";
        } else {
            document.getElementById('mCn').innerText = "Translation not found";
            document.getElementById('mSound').innerText = "";
        }
        document.getElementById('mAudio').onclick = () => speak(w);
        document.getElementById('modal').style.display = 'flex';
        speak(w);
    }

    function closeModal(e) {
        if(!e || e.target.id === 'modal' || e.target.className === 'close-x') {
            document.getElementById('modal').style.display = 'none';
        }
    }

    function checkQuiz(btn, isCorrect) {
        if(isCorrect === 'true') { btn.classList.add('correct'); speak("Correct"); } 
        else { btn.classList.add('wrong'); speak("Try again"); }
    }

    // ================= REVISED GAME LOGIC (User Friendly + Meaning) =================
    
    let currentGameTarget = ""; 
    let gameMode = 'move'; // 'move' or 'ask'

    function setGameMode(mode) {
        gameMode = mode;
        // Update Buttons UI
        document.getElementById('btnMove').className = mode === 'move' ? 'mode-btn active' : 'mode-btn';
        document.getElementById('btnAsk').className = mode === 'ask' ? 'mode-btn active' : 'mode-btn';
    }

    function initGame() {
        const answerZone = document.getElementById('answerZone');
        const wordBank = document.getElementById('wordBank');
        const hint = document.getElementById('gameHint');
        const msg = document.getElementById('gameMsg');
        const hintDisplay = document.getElementById('gameSentenceHint');
        
        // Reset UI
        answerZone.innerHTML = '<span id="placeholder" style="color:#666; font-style:italic; font-size:0.8rem;">(Put words here)</span>';
        answerZone.classList.remove('correct');
        wordBank.innerHTML = '';
        msg.innerText = '';
        hintDisplay.innerText = ''; 
        setGameMode('move'); // Default to move mode

        // Check Mission Status
        if (missionStatus.game) {
             msg.innerHTML = "<span style='color:var(--success)'>âœ… Mission Complete! (You can play again)</span>";
        }

        const dayWordList = dailyWords[currentDay-1];
        const targetWord = dayWordList[Math.floor(Math.random() * dayWordList.length)];
        
        // Get Sentence from DB
        const sentence = sentenceDB[targetWord] || `I can see a ${targetWord}.`;
        const cnWord = dictionary[targetWord] ? dictionary[targetWord].cn : targetWord;
        
        hint.innerHTML = `Word: <span style="color:var(--primary)">${targetWord}</span> (${cnWord})`; 
        
        // Clean sentence for logic
        let cleanSentence = sentence.replace(/[.,!?;]/g, ''); 
        currentGameTarget = cleanSentence; 

        // Split and Shuffle
        let parts = cleanSentence.split(' ');
        parts.sort(() => Math.random() - 0.5); 
        
        parts.forEach(word => {
            const piece = document.createElement('div');
            piece.className = 'puzzle-piece';
            piece.innerText = word;
            
            // CLICK HANDLER
            piece.onclick = function() {
                if (gameMode === 'ask') {
                    // ASK MEANING MODE: Open Modal
                    // Clean punctuation for dictionary lookup (e.g., "morning." -> "morning")
                    const cleanWord = word.replace(/[^a-zA-Z]/g, ''); 
                    wordClick(cleanWord);
                } else {
                    // MOVE MODE: Move between zones
                    movePiece(this, cleanSentence);
                }
            };
            
            wordBank.appendChild(piece);
        });
    }

    function movePiece(piece, targetSentence) {
        const answerZone = document.getElementById('answerZone');
        const wordBank = document.getElementById('wordBank');
        const placeholder = document.getElementById('placeholder');

        // Logic: If parent is bank -> move to answer. If parent is answer -> move to bank.
        if (piece.parentNode === wordBank) {
            if(placeholder) placeholder.style.display = 'none'; // Hide text
            answerZone.appendChild(piece);
        } else {
            wordBank.appendChild(piece);
            if(answerZone.children.length === 1 && placeholder) placeholder.style.display = 'block'; // Show text if empty
        }

        // Check Answer automatically
        checkPuzzle(targetSentence);
    }

    function showGameStructureHint() {
        if (!currentGameTarget) return;
        const words = currentGameTarget.split(' ');
        const hintStr = words.map(w => w.charAt(0) + "_".repeat(w.length - 1)).join('  ');
        document.getElementById('gameSentenceHint').innerText = hintStr;
    }

    function checkPuzzle(target) {
        const answerZone = document.getElementById('answerZone');
        // Only get text from Puzzle Pieces (ignore the placeholder span)
        const pieces = answerZone.querySelectorAll('.puzzle-piece');
        const currentArr = Array.from(pieces).map(div => div.innerText);
        const currentStr = currentArr.join(' ');
        const msg = document.getElementById('gameMsg');
        
        if(currentStr === target) {
            msg.innerText = "ğŸŒŸ Correct! ğŸŒŸ";
            msg.style.color = "var(--success)";
            speak(target);
            
            missionStatus.game = true; 
            isGameSolved = true;
            answerZone.classList.add('correct');

            // Freeze pieces
            pieces.forEach(p => {
                p.style.backgroundColor = "var(--success)";
                p.style.cursor = "default";
                p.onclick = null; // Disable clicking
            });
        } else {
            // Not correct yet
            answerZone.classList.remove('correct');
        }
    }

    function resetGame() { 
        isGameSolved = false; 
        initGame(); 
    }
    // --- Dictation Logic ---
    let dictFirstAttempt = null;

    function updateDictUI() {
        const count = dictQueue.length;
        document.getElementById('dictCount').innerText = `å‰©é¤˜: ${count}`;
        document.getElementById('dictInput').value = '';
        document.getElementById('dictMsg').innerText = '';
        document.getElementById('resFirst').innerText = '-';
        document.getElementById('resLatest').innerText = '-';
        dictFirstAttempt = null;

        if(count > 0) {
            const w = dictQueue[0];
            currentDictTarget = w;
            const info = dictionary[w] || {cn:'Translation'};
            document.getElementById('dictCn').innerText = info.cn;
        } else {
            document.getElementById('dictCn').innerText = "å®Œæˆä»»å‹™! (Done)";
            currentDictTarget = "";
        }
    }

    function playDictSound() { if(currentDictTarget) speak(currentDictTarget); }
    function giveHint() { if(currentDictTarget) document.getElementById('dictInput').value = currentDictTarget[0] + "..."; }

    function checkDict() {
        if(!currentDictTarget) return;
        const inputElem = document.getElementById('dictInput');
        const val = inputElem.value.trim().toLowerCase();
        const msg = document.getElementById('dictMsg');
        const isCorrect = (val === currentDictTarget);
        const displayResult = `${val} ${isCorrect ? 'âœ…' : 'âŒ'}`;

        if (dictFirstAttempt === null) {
            dictFirstAttempt = displayResult;
            document.getElementById('resFirst').innerText = dictFirstAttempt;
        }
        document.getElementById('resLatest').innerText = displayResult;

        if(isCorrect) {
            msg.innerText = "ç­”å°äº†! (Correct) ğŸ‰";
            msg.style.color = "var(--success)";
            speak("Good Job");
            setTimeout(() => {
                dictQueue.shift();
                localStorage.setItem('p2_queue', JSON.stringify(dictQueue));
                updateDictUI();
            }, 1500);
        } else {
            msg.innerText = "å†è©¦ä¸€æ¬¡! (Try Again)";
            msg.style.color = "var(--error)";
            speak("Try again");
            
            // Auto add wrong words to bank? (Optional - you can enable this line if desired)
            // addToBank(currentDictTarget);

            dictQueue.push(dictQueue.shift());
            localStorage.setItem('p2_queue', JSON.stringify(dictQueue));
            setTimeout(() => {
                inputElem.value = '';
                msg.innerText = '';
            }, 1000);
        }
    }
</script>
</body>
</html>